ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"bsp_soft_i2c.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.bsp_SoftI2CInit,"ax",%progbits
  16              		.align	1
  17              		.global	bsp_SoftI2CInit
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	bsp_SoftI2CInit:
  24              	.LFB71:
  25              		.file 1 "drivers/bsp_soft_i2c.c"
   1:drivers/bsp_soft_i2c.c **** #include "bsp_soft_i2c.h"
   2:drivers/bsp_soft_i2c.c **** 
   3:drivers/bsp_soft_i2c.c **** static inline void i2c_delay_us(u32 nus)
   4:drivers/bsp_soft_i2c.c **** {
   5:drivers/bsp_soft_i2c.c **** 	delay_us(nus);
   6:drivers/bsp_soft_i2c.c **** }
   7:drivers/bsp_soft_i2c.c **** 
   8:drivers/bsp_soft_i2c.c **** static inline void SDA_Switch(_I2C *i2c, u8 val)
   9:drivers/bsp_soft_i2c.c **** {
  10:drivers/bsp_soft_i2c.c **** 	if (val)
  11:drivers/bsp_soft_i2c.c **** 		bsp_IoSet(&i2c->sda);
  12:drivers/bsp_soft_i2c.c **** 	else
  13:drivers/bsp_soft_i2c.c **** 		bsp_IoClr(&i2c->sda);
  14:drivers/bsp_soft_i2c.c **** }
  15:drivers/bsp_soft_i2c.c **** 
  16:drivers/bsp_soft_i2c.c **** static inline void SCL_Switch(_I2C *i2c, u8 val)
  17:drivers/bsp_soft_i2c.c **** {
  18:drivers/bsp_soft_i2c.c **** 	if (val)
  19:drivers/bsp_soft_i2c.c **** 		bsp_IoSet(&i2c->scl);
  20:drivers/bsp_soft_i2c.c **** 	else
  21:drivers/bsp_soft_i2c.c **** 		bsp_IoClr(&i2c->scl);
  22:drivers/bsp_soft_i2c.c **** }
  23:drivers/bsp_soft_i2c.c **** 
  24:drivers/bsp_soft_i2c.c **** static inline u8 I2CRead(_I2C *i2c)
  25:drivers/bsp_soft_i2c.c **** {
  26:drivers/bsp_soft_i2c.c **** 	return bsp_IoRead(&i2c->sda);
  27:drivers/bsp_soft_i2c.c **** }
  28:drivers/bsp_soft_i2c.c **** 
  29:drivers/bsp_soft_i2c.c **** static inline void SwitchDir(_I2C *i2c, u8 dir)
  30:drivers/bsp_soft_i2c.c **** {
  31:drivers/bsp_soft_i2c.c **** 	if (dir)//输出
  32:drivers/bsp_soft_i2c.c **** 		i2c->sda.mode = IO_MODE_IN_PULL;
  33:drivers/bsp_soft_i2c.c **** 	else
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 2


  34:drivers/bsp_soft_i2c.c **** 		i2c->sda.mode = IO_MODE_OUT_PP_50MHZ;
  35:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
  36:drivers/bsp_soft_i2c.c **** }
  37:drivers/bsp_soft_i2c.c **** 
  38:drivers/bsp_soft_i2c.c **** void bsp_SoftI2CInit(_I2C *i2c)
  39:drivers/bsp_soft_i2c.c **** {
  26              		.loc 1 39 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              	.LVL0:
  31 0000 38B5     		push	{r3, r4, r5, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 16
  34              		.cfi_offset 3, -16
  35              		.cfi_offset 4, -12
  36              		.cfi_offset 5, -8
  37              		.cfi_offset 14, -4
  38 0002 0546     		mov	r5, r0
  40:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
  39              		.loc 1 40 0
  40 0004 FFF7FEFF 		bl	bsp_IoInit
  41              	.LVL1:
  41:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->scl);
  42              		.loc 1 41 0
  43 0008 05F10804 		add	r4, r5, #8
  44 000c 2046     		mov	r0, r4
  45 000e FFF7FEFF 		bl	bsp_IoInit
  46              	.LVL2:
  47              	.LBB102:
  48              	.LBB103:
  11:drivers/bsp_soft_i2c.c **** 	else
  49              		.loc 1 11 0
  50 0012 2846     		mov	r0, r5
  51 0014 FFF7FEFF 		bl	bsp_IoSet
  52              	.LVL3:
  53              	.LBE103:
  54              	.LBE102:
  55              	.LBB104:
  56              	.LBB105:
  19:drivers/bsp_soft_i2c.c **** 	else
  57              		.loc 1 19 0
  58 0018 2046     		mov	r0, r4
  59 001a FFF7FEFF 		bl	bsp_IoSet
  60              	.LVL4:
  61              	.LBE105:
  62              	.LBE104:
  42:drivers/bsp_soft_i2c.c **** 	SDA_Switch(i2c, 1);
  43:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 1);
  44:drivers/bsp_soft_i2c.c **** }
  63              		.loc 1 44 0
  64 001e 38BD     		pop	{r3, r4, r5, pc}
  65              		.cfi_endproc
  66              	.LFE71:
  68              		.section	.text.bsp_SoftI2CWrite,"ax",%progbits
  69              		.align	1
  70              		.global	bsp_SoftI2CWrite
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 3


  71              		.syntax unified
  72              		.thumb
  73              		.thumb_func
  74              		.fpu softvfp
  76              	bsp_SoftI2CWrite:
  77              	.LFB79:
  45:drivers/bsp_soft_i2c.c **** 
  46:drivers/bsp_soft_i2c.c **** 
  47:drivers/bsp_soft_i2c.c **** static inline void bsp_SoftI2CStart(_I2C *i2c)
  48:drivers/bsp_soft_i2c.c **** {
  49:drivers/bsp_soft_i2c.c **** 	SwitchDir(i2c, 1);//sda线输出
  50:drivers/bsp_soft_i2c.c **** 	SDA_Switch(i2c, 1);
  51:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 1);
  52:drivers/bsp_soft_i2c.c **** 	i2c_delay_us(2);
  53:drivers/bsp_soft_i2c.c **** 	SDA_Switch(i2c, 0);
  54:drivers/bsp_soft_i2c.c **** 	i2c_delay_us(2);
  55:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 0);
  56:drivers/bsp_soft_i2c.c **** }
  57:drivers/bsp_soft_i2c.c **** 
  58:drivers/bsp_soft_i2c.c **** static inline void bsp_SoftI2CStop(_I2C *i2c)
  59:drivers/bsp_soft_i2c.c **** {
  60:drivers/bsp_soft_i2c.c **** 	SwitchDir(i2c, 1);//sda线输出
  61:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 0);
  62:drivers/bsp_soft_i2c.c **** 	SDA_Switch(i2c, 0);
  63:drivers/bsp_soft_i2c.c **** 	i2c_delay_us(2);
  64:drivers/bsp_soft_i2c.c **** 	SDA_Switch(i2c, 1);
  65:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 1);
  66:drivers/bsp_soft_i2c.c **** 	i2c_delay_us(2);
  67:drivers/bsp_soft_i2c.c **** }
  68:drivers/bsp_soft_i2c.c **** 
  69:drivers/bsp_soft_i2c.c **** static inline u8 bsp_SoftI2CWaitAck(_I2C *i2c)
  70:drivers/bsp_soft_i2c.c **** {
  71:drivers/bsp_soft_i2c.c **** 	u8 ucErrTime = 0;
  72:drivers/bsp_soft_i2c.c **** 	SwitchDir(i2c, 0);      //SDA设置为输入
  73:drivers/bsp_soft_i2c.c **** 	SDA_Switch(i2c, 1);
  74:drivers/bsp_soft_i2c.c **** 	i2c_delay_us(2);
  75:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 1);
  76:drivers/bsp_soft_i2c.c **** 	i2c_delay_us(2);
  77:drivers/bsp_soft_i2c.c **** 
  78:drivers/bsp_soft_i2c.c **** 	while (I2CRead(i2c)) {
  79:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
  80:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
  81:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
  82:drivers/bsp_soft_i2c.c **** 			return 1;
  83:drivers/bsp_soft_i2c.c **** 		}
  84:drivers/bsp_soft_i2c.c **** 	}
  85:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 0);
  86:drivers/bsp_soft_i2c.c **** 	return 0;
  87:drivers/bsp_soft_i2c.c **** }
  88:drivers/bsp_soft_i2c.c **** 
  89:drivers/bsp_soft_i2c.c **** static inline void bsp_SoftI2CAck(_I2C *i2c)
  90:drivers/bsp_soft_i2c.c **** {
  91:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 0);
  92:drivers/bsp_soft_i2c.c **** 	SwitchDir(i2c, 1);
  93:drivers/bsp_soft_i2c.c **** 	SDA_Switch(i2c, 0);
  94:drivers/bsp_soft_i2c.c **** 	i2c_delay_us(2);
  95:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 1);
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 4


  96:drivers/bsp_soft_i2c.c **** 	i2c_delay_us(2);
  97:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 0);
  98:drivers/bsp_soft_i2c.c **** }
  99:drivers/bsp_soft_i2c.c **** 
 100:drivers/bsp_soft_i2c.c **** static inline void bsp_SoftI2cNack(_I2C *i2c)
 101:drivers/bsp_soft_i2c.c **** {
 102:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 0);
 103:drivers/bsp_soft_i2c.c **** 	SwitchDir(i2c, 1);
 104:drivers/bsp_soft_i2c.c **** 	SDA_Switch(i2c, 1);
 105:drivers/bsp_soft_i2c.c **** 	i2c_delay_us(2);
 106:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 1);
 107:drivers/bsp_soft_i2c.c **** 	i2c_delay_us(2);
 108:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 0);
 109:drivers/bsp_soft_i2c.c **** }
 110:drivers/bsp_soft_i2c.c **** 
 111:drivers/bsp_soft_i2c.c **** static inline void bsp_SoftI2CSendByte(_I2C *i2c, u8 dat)
 112:drivers/bsp_soft_i2c.c **** {
 113:drivers/bsp_soft_i2c.c **** 	u8 t;
 114:drivers/bsp_soft_i2c.c **** 	SwitchDir(i2c, 1);
 115:drivers/bsp_soft_i2c.c **** 	SCL_Switch(i2c, 0);
 116:drivers/bsp_soft_i2c.c **** 	for (t = 0x80; t > 0; t >>= 1) {
 117:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 118:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 119:drivers/bsp_soft_i2c.c **** 		else
 120:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 0);
 121:drivers/bsp_soft_i2c.c **** 		SCL_Switch(i2c, 1);
 122:drivers/bsp_soft_i2c.c **** 		i2c_delay_us(2);
 123:drivers/bsp_soft_i2c.c **** 		SCL_Switch(i2c, 0);
 124:drivers/bsp_soft_i2c.c **** 		i2c_delay_us(2);
 125:drivers/bsp_soft_i2c.c **** 	}
 126:drivers/bsp_soft_i2c.c **** }
 127:drivers/bsp_soft_i2c.c **** 
 128:drivers/bsp_soft_i2c.c **** static inline u8 bsp_SoftI2CReadByte(_I2C *i2c, u8 ack)
 129:drivers/bsp_soft_i2c.c **** {
 130:drivers/bsp_soft_i2c.c **** 	unsigned char i, receive = 0;
 131:drivers/bsp_soft_i2c.c **** 	SwitchDir(i2c, 0);//SDA设置为输入
 132:drivers/bsp_soft_i2c.c **** 	for (i = 0; i < 8; i++) {
 133:drivers/bsp_soft_i2c.c **** 		SCL_Switch(i2c, 0);
 134:drivers/bsp_soft_i2c.c **** 		i2c_delay_us(2);
 135:drivers/bsp_soft_i2c.c **** 		SCL_Switch(i2c, 1);
 136:drivers/bsp_soft_i2c.c **** 		receive <<= 1;
 137:drivers/bsp_soft_i2c.c **** 		if (bsp_IoRead(&i2c->sda))receive++;
 138:drivers/bsp_soft_i2c.c **** 		i2c_delay_us(2);
 139:drivers/bsp_soft_i2c.c **** 	}
 140:drivers/bsp_soft_i2c.c **** 	if (!ack)
 141:drivers/bsp_soft_i2c.c **** 		bsp_SoftI2CAck(i2c);//发送nACK
 142:drivers/bsp_soft_i2c.c **** 	else
 143:drivers/bsp_soft_i2c.c **** 		bsp_SoftI2cNack(i2c); //发送ACK
 144:drivers/bsp_soft_i2c.c **** 	return receive;
 145:drivers/bsp_soft_i2c.c **** }
 146:drivers/bsp_soft_i2c.c **** 
 147:drivers/bsp_soft_i2c.c **** s16 bsp_SoftI2CWrite(_I2C *i2c, u8 addr, u8 reg, u8 *dat, u16 len)
 148:drivers/bsp_soft_i2c.c **** {
  78              		.loc 1 148 0
  79              		.cfi_startproc
  80              		@ args = 4, pretend = 0, frame = 0
  81              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 5


  82              	.LVL5:
  83 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
  84              	.LCFI1:
  85              		.cfi_def_cfa_offset 40
  86              		.cfi_offset 3, -40
  87              		.cfi_offset 4, -36
  88              		.cfi_offset 5, -32
  89              		.cfi_offset 6, -28
  90              		.cfi_offset 7, -24
  91              		.cfi_offset 8, -20
  92              		.cfi_offset 9, -16
  93              		.cfi_offset 10, -12
  94              		.cfi_offset 11, -8
  95              		.cfi_offset 14, -4
  96 0004 0646     		mov	r6, r0
  97 0006 0D46     		mov	r5, r1
  98 0008 9146     		mov	r9, r2
  99 000a 9846     		mov	r8, r3
 100 000c BDF82870 		ldrh	r7, [sp, #40]
 101              	.LVL6:
 102              	.LBB304:
 103              	.LBB305:
 104              	.LBB306:
  32:drivers/bsp_soft_i2c.c **** 	else
 105              		.loc 1 32 0
 106 0010 4FF0080B 		mov	fp, #8
 107 0014 80F805B0 		strb	fp, [r0, #5]
  35:drivers/bsp_soft_i2c.c **** }
 108              		.loc 1 35 0
 109 0018 FFF7FEFF 		bl	bsp_IoInit
 110              	.LVL7:
 111              	.LBE306:
 112              	.LBE305:
 113              	.LBB307:
 114              	.LBB308:
  11:drivers/bsp_soft_i2c.c **** 	else
 115              		.loc 1 11 0
 116 001c 3046     		mov	r0, r6
 117 001e FFF7FEFF 		bl	bsp_IoSet
 118              	.LVL8:
 119              	.LBE308:
 120              	.LBE307:
 121              	.LBB309:
 122              	.LBB310:
  19:drivers/bsp_soft_i2c.c **** 	else
 123              		.loc 1 19 0
 124 0022 06EB0B04 		add	r4, r6, fp
 125 0026 2046     		mov	r0, r4
 126 0028 FFF7FEFF 		bl	bsp_IoSet
 127              	.LVL9:
 128              	.LBE310:
 129              	.LBE309:
 130              	.LBB311:
 131              	.LBB312:
   5:drivers/bsp_soft_i2c.c **** }
 132              		.loc 1 5 0
 133 002c 0220     		movs	r0, #2
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 6


 134 002e FFF7FEFF 		bl	delay_us
 135              	.LVL10:
 136              	.LBE312:
 137              	.LBE311:
 138              	.LBB313:
 139              	.LBB314:
  13:drivers/bsp_soft_i2c.c **** }
 140              		.loc 1 13 0
 141 0032 3046     		mov	r0, r6
 142 0034 FFF7FEFF 		bl	bsp_IoClr
 143              	.LVL11:
 144              	.LBE314:
 145              	.LBE313:
 146              	.LBB315:
 147              	.LBB316:
   5:drivers/bsp_soft_i2c.c **** }
 148              		.loc 1 5 0
 149 0038 0220     		movs	r0, #2
 150 003a FFF7FEFF 		bl	delay_us
 151              	.LVL12:
 152              	.LBE316:
 153              	.LBE315:
 154              	.LBB317:
 155              	.LBB318:
  21:drivers/bsp_soft_i2c.c **** }
 156              		.loc 1 21 0
 157 003e 2046     		mov	r0, r4
 158 0040 FFF7FEFF 		bl	bsp_IoClr
 159              	.LVL13:
 160              	.LBE318:
 161              	.LBE317:
 162              	.LBE304:
 149:drivers/bsp_soft_i2c.c **** 	u16 i = 0;
 150:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CStart(i2c);
 151:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CSendByte(i2c, (addr << 1) | 0);//发送器件地址+写命令
 163              		.loc 1 151 0
 164 0044 6D00     		lsls	r5, r5, #1
 165 0046 5FFA85FA 		uxtb	r10, r5
 166              	.LVL14:
 167              	.LBB319:
 168              	.LBB320:
 169              	.LBB321:
 170              	.LBB322:
  32:drivers/bsp_soft_i2c.c **** 	else
 171              		.loc 1 32 0
 172 004a 86F805B0 		strb	fp, [r6, #5]
  35:drivers/bsp_soft_i2c.c **** }
 173              		.loc 1 35 0
 174 004e B346     		mov	fp, r6
 175 0050 3046     		mov	r0, r6
 176 0052 FFF7FEFF 		bl	bsp_IoInit
 177              	.LVL15:
 178              	.LBE322:
 179              	.LBE321:
 180              	.LBB323:
 181              	.LBB324:
  21:drivers/bsp_soft_i2c.c **** }
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 7


 182              		.loc 1 21 0
 183 0056 2546     		mov	r5, r4
 184 0058 2046     		mov	r0, r4
 185 005a FFF7FEFF 		bl	bsp_IoClr
 186              	.LVL16:
 187              	.LBE324:
 188              	.LBE323:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 189              		.loc 1 116 0
 190 005e 8024     		movs	r4, #128
 191 0060 0FE0     		b	.L4
 192              	.LVL17:
 193              	.L5:
 194              	.LBB325:
 195              	.LBB326:
  13:drivers/bsp_soft_i2c.c **** }
 196              		.loc 1 13 0
 197 0062 5846     		mov	r0, fp
 198 0064 FFF7FEFF 		bl	bsp_IoClr
 199              	.LVL18:
 200              	.L6:
 201              	.LBE326:
 202              	.LBE325:
 203              	.LBB327:
 204              	.LBB328:
  19:drivers/bsp_soft_i2c.c **** 	else
 205              		.loc 1 19 0
 206 0068 2846     		mov	r0, r5
 207 006a FFF7FEFF 		bl	bsp_IoSet
 208              	.LVL19:
 209              	.LBE328:
 210              	.LBE327:
 211              	.LBB329:
 212              	.LBB330:
   5:drivers/bsp_soft_i2c.c **** }
 213              		.loc 1 5 0
 214 006e 0220     		movs	r0, #2
 215 0070 FFF7FEFF 		bl	delay_us
 216              	.LVL20:
 217              	.LBE330:
 218              	.LBE329:
 219              	.LBB331:
 220              	.LBB332:
  21:drivers/bsp_soft_i2c.c **** }
 221              		.loc 1 21 0
 222 0074 2846     		mov	r0, r5
 223 0076 FFF7FEFF 		bl	bsp_IoClr
 224              	.LVL21:
 225              	.LBE332:
 226              	.LBE331:
 227              	.LBB333:
 228              	.LBB334:
   5:drivers/bsp_soft_i2c.c **** }
 229              		.loc 1 5 0
 230 007a 0220     		movs	r0, #2
 231 007c FFF7FEFF 		bl	delay_us
 232              	.LVL22:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 8


 233              	.LBE334:
 234              	.LBE333:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 235              		.loc 1 116 0
 236 0080 6408     		lsrs	r4, r4, #1
 237              	.LVL23:
 238              	.L4:
 239 0082 34B1     		cbz	r4, .L31
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 240              		.loc 1 117 0
 241 0084 1AEA040F 		tst	r10, r4
 242 0088 EBD0     		beq	.L5
 243              	.LVL24:
 244              	.LBB335:
 245              	.LBB336:
  11:drivers/bsp_soft_i2c.c **** 	else
 246              		.loc 1 11 0
 247 008a 5846     		mov	r0, fp
 248 008c FFF7FEFF 		bl	bsp_IoSet
 249              	.LVL25:
 250 0090 EAE7     		b	.L6
 251              	.LVL26:
 252              	.L31:
 253              	.LBE336:
 254              	.LBE335:
 255              	.LBE320:
 256              	.LBE319:
 257              	.LBB337:
 258              	.LBB338:
 259              	.LBB339:
 260              	.LBB340:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 261              		.loc 1 34 0
 262 0092 0323     		movs	r3, #3
 263 0094 7371     		strb	r3, [r6, #5]
  35:drivers/bsp_soft_i2c.c **** }
 264              		.loc 1 35 0
 265 0096 3546     		mov	r5, r6
 266 0098 3046     		mov	r0, r6
 267 009a FFF7FEFF 		bl	bsp_IoInit
 268              	.LVL27:
 269              	.LBE340:
 270              	.LBE339:
 271              	.LBB341:
 272              	.LBB342:
  11:drivers/bsp_soft_i2c.c **** 	else
 273              		.loc 1 11 0
 274 009e 3046     		mov	r0, r6
 275 00a0 FFF7FEFF 		bl	bsp_IoSet
 276              	.LVL28:
 277              	.LBE342:
 278              	.LBE341:
 279              	.LBB343:
 280              	.LBB344:
   5:drivers/bsp_soft_i2c.c **** }
 281              		.loc 1 5 0
 282 00a4 0220     		movs	r0, #2
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 9


 283 00a6 FFF7FEFF 		bl	delay_us
 284              	.LVL29:
 285              	.LBE344:
 286              	.LBE343:
 287              	.LBB345:
 288              	.LBB346:
  19:drivers/bsp_soft_i2c.c **** 	else
 289              		.loc 1 19 0
 290 00aa 06F1080A 		add	r10, r6, #8
 291 00ae 5046     		mov	r0, r10
 292 00b0 FFF7FEFF 		bl	bsp_IoSet
 293              	.LVL30:
 294              	.LBE346:
 295              	.LBE345:
 296              	.LBB347:
 297              	.LBB348:
   5:drivers/bsp_soft_i2c.c **** }
 298              		.loc 1 5 0
 299 00b4 0220     		movs	r0, #2
 300 00b6 FFF7FEFF 		bl	delay_us
 301              	.LVL31:
 302              	.L8:
 303              	.LBE348:
 304              	.LBE347:
 305              	.LBB349:
 306              	.LBB350:
  26:drivers/bsp_soft_i2c.c **** }
 307              		.loc 1 26 0
 308 00ba 2846     		mov	r0, r5
 309 00bc FFF7FEFF 		bl	bsp_IoRead
 310              	.LVL32:
 311              	.LBE350:
 312              	.LBE349:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 313              		.loc 1 78 0
 314 00c0 8346     		mov	fp, r0
 315 00c2 F8B1     		cbz	r0, .L32
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 316              		.loc 1 79 0
 317 00c4 0134     		adds	r4, r4, #1
 318              	.LVL33:
 319 00c6 E4B2     		uxtb	r4, r4
 320              	.LVL34:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 321              		.loc 1 80 0
 322 00c8 FA2C     		cmp	r4, #250
 323 00ca F6D9     		bls	.L8
 324              	.LVL35:
 325              	.LBB351:
 326              	.LBB352:
 327              	.LBB353:
  32:drivers/bsp_soft_i2c.c **** 	else
 328              		.loc 1 32 0
 329 00cc 0823     		movs	r3, #8
 330 00ce 7371     		strb	r3, [r6, #5]
  35:drivers/bsp_soft_i2c.c **** }
 331              		.loc 1 35 0
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 10


 332 00d0 3046     		mov	r0, r6
 333 00d2 FFF7FEFF 		bl	bsp_IoInit
 334              	.LVL36:
 335              	.LBE353:
 336              	.LBE352:
 337              	.LBB354:
 338              	.LBB355:
  21:drivers/bsp_soft_i2c.c **** }
 339              		.loc 1 21 0
 340 00d6 06F10804 		add	r4, r6, #8
 341              	.LVL37:
 342 00da 2046     		mov	r0, r4
 343 00dc FFF7FEFF 		bl	bsp_IoClr
 344              	.LVL38:
 345              	.LBE355:
 346              	.LBE354:
 347              	.LBB356:
 348              	.LBB357:
  13:drivers/bsp_soft_i2c.c **** }
 349              		.loc 1 13 0
 350 00e0 3046     		mov	r0, r6
 351 00e2 FFF7FEFF 		bl	bsp_IoClr
 352              	.LVL39:
 353              	.LBE357:
 354              	.LBE356:
 355              	.LBB358:
 356              	.LBB359:
   5:drivers/bsp_soft_i2c.c **** }
 357              		.loc 1 5 0
 358 00e6 0220     		movs	r0, #2
 359 00e8 FFF7FEFF 		bl	delay_us
 360              	.LVL40:
 361              	.LBE359:
 362              	.LBE358:
 363              	.LBB360:
 364              	.LBB361:
  11:drivers/bsp_soft_i2c.c **** 	else
 365              		.loc 1 11 0
 366 00ec 3046     		mov	r0, r6
 367 00ee FFF7FEFF 		bl	bsp_IoSet
 368              	.LVL41:
 369              	.LBE361:
 370              	.LBE360:
 371              	.LBB362:
 372              	.LBB363:
  19:drivers/bsp_soft_i2c.c **** 	else
 373              		.loc 1 19 0
 374 00f2 2046     		mov	r0, r4
 375 00f4 FFF7FEFF 		bl	bsp_IoSet
 376              	.LVL42:
 377              	.LBE363:
 378              	.LBE362:
 379              	.LBB364:
 380              	.LBB365:
   5:drivers/bsp_soft_i2c.c **** }
 381              		.loc 1 5 0
 382 00f8 0220     		movs	r0, #2
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 11


 383 00fa FFF7FEFF 		bl	delay_us
 384              	.LVL43:
 385              	.LBE365:
 386              	.LBE364:
 387              	.LBE351:
  82:drivers/bsp_soft_i2c.c **** 		}
 388              		.loc 1 82 0
 389 00fe 4FF0010B 		mov	fp, #1
 390 0102 02E0     		b	.L9
 391              	.LVL44:
 392              	.L32:
 393              	.LBB366:
 394              	.LBB367:
  21:drivers/bsp_soft_i2c.c **** }
 395              		.loc 1 21 0
 396 0104 5046     		mov	r0, r10
 397 0106 FFF7FEFF 		bl	bsp_IoClr
 398              	.LVL45:
 399              	.L9:
 400              	.LBE367:
 401              	.LBE366:
 402              	.LBE338:
 403              	.LBE337:
 152:drivers/bsp_soft_i2c.c **** 	if (bsp_SoftI2CWaitAck(i2c))    //等待应答
 404              		.loc 1 152 0
 405 010a BBF1000F 		cmp	fp, #0
 406 010e 0CD1     		bne	.L33
 407              	.LVL46:
 408              	.LBB368:
 409              	.LBB369:
 410              	.LBB370:
 411              	.LBB371:
  32:drivers/bsp_soft_i2c.c **** 	else
 412              		.loc 1 32 0
 413 0110 0823     		movs	r3, #8
 414 0112 7371     		strb	r3, [r6, #5]
  35:drivers/bsp_soft_i2c.c **** }
 415              		.loc 1 35 0
 416 0114 B246     		mov	r10, r6
 417 0116 3046     		mov	r0, r6
 418 0118 FFF7FEFF 		bl	bsp_IoInit
 419              	.LVL47:
 420              	.LBE371:
 421              	.LBE370:
 422              	.LBB372:
 423              	.LBB373:
  21:drivers/bsp_soft_i2c.c **** }
 424              		.loc 1 21 0
 425 011c 06F10805 		add	r5, r6, #8
 426              	.LVL48:
 427 0120 2846     		mov	r0, r5
 428 0122 FFF7FEFF 		bl	bsp_IoClr
 429              	.LVL49:
 430              	.LBE373:
 431              	.LBE372:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 432              		.loc 1 116 0
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 12


 433 0126 8024     		movs	r4, #128
 434 0128 2BE0     		b	.L13
 435              	.LVL50:
 436              	.L33:
 437              	.LBE369:
 438              	.LBE368:
 439              	.LBB387:
 440              	.LBB388:
 441              	.LBB389:
  32:drivers/bsp_soft_i2c.c **** 	else
 442              		.loc 1 32 0
 443 012a 0823     		movs	r3, #8
 444 012c 7371     		strb	r3, [r6, #5]
  35:drivers/bsp_soft_i2c.c **** }
 445              		.loc 1 35 0
 446 012e 3046     		mov	r0, r6
 447 0130 FFF7FEFF 		bl	bsp_IoInit
 448              	.LVL51:
 449              	.LBE389:
 450              	.LBE388:
 451              	.LBB390:
 452              	.LBB391:
  21:drivers/bsp_soft_i2c.c **** }
 453              		.loc 1 21 0
 454 0134 06F10804 		add	r4, r6, #8
 455 0138 2046     		mov	r0, r4
 456 013a FFF7FEFF 		bl	bsp_IoClr
 457              	.LVL52:
 458              	.LBE391:
 459              	.LBE390:
 460              	.LBB392:
 461              	.LBB393:
  13:drivers/bsp_soft_i2c.c **** }
 462              		.loc 1 13 0
 463 013e 3046     		mov	r0, r6
 464 0140 FFF7FEFF 		bl	bsp_IoClr
 465              	.LVL53:
 466              	.LBE393:
 467              	.LBE392:
 468              	.LBB394:
 469              	.LBB395:
   5:drivers/bsp_soft_i2c.c **** static inline void SDA_Switch(_I2C *i2c, u8 val)
 470              		.loc 1 5 0
 471 0144 0220     		movs	r0, #2
 472 0146 FFF7FEFF 		bl	delay_us
 473              	.LVL54:
 474              	.LBE395:
 475              	.LBE394:
 476              	.LBB396:
 477              	.LBB397:
  11:drivers/bsp_soft_i2c.c **** 	else
 478              		.loc 1 11 0
 479 014a 3046     		mov	r0, r6
 480 014c FFF7FEFF 		bl	bsp_IoSet
 481              	.LVL55:
 482              	.LBE397:
 483              	.LBE396:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 13


 484              	.LBB398:
 485              	.LBB399:
  19:drivers/bsp_soft_i2c.c **** 	else
 486              		.loc 1 19 0
 487 0150 2046     		mov	r0, r4
 488 0152 FFF7FEFF 		bl	bsp_IoSet
 489              	.LVL56:
 490              	.LBE399:
 491              	.LBE398:
 492              	.LBB400:
 493              	.LBB401:
   5:drivers/bsp_soft_i2c.c **** static inline void SDA_Switch(_I2C *i2c, u8 val)
 494              		.loc 1 5 0
 495 0156 0220     		movs	r0, #2
 496 0158 FFF7FEFF 		bl	delay_us
 497              	.LVL57:
 498              	.LBE401:
 499              	.LBE400:
 500              	.LBE387:
 153:drivers/bsp_soft_i2c.c **** 	{
 154:drivers/bsp_soft_i2c.c **** 		bsp_SoftI2CStop(i2c);
 155:drivers/bsp_soft_i2c.c **** 		return -1;
 501              		.loc 1 155 0
 502 015c 4FF0FF30 		mov	r0, #-1
 503 0160 DAE0     		b	.L12
 504              	.LVL58:
 505              	.L14:
 506              	.LBB402:
 507              	.LBB386:
 508              	.LBB374:
 509              	.LBB375:
  13:drivers/bsp_soft_i2c.c **** }
 510              		.loc 1 13 0
 511 0162 5046     		mov	r0, r10
 512 0164 FFF7FEFF 		bl	bsp_IoClr
 513              	.LVL59:
 514              	.L15:
 515              	.LBE375:
 516              	.LBE374:
 517              	.LBB376:
 518              	.LBB377:
  19:drivers/bsp_soft_i2c.c **** 	else
 519              		.loc 1 19 0
 520 0168 2846     		mov	r0, r5
 521 016a FFF7FEFF 		bl	bsp_IoSet
 522              	.LVL60:
 523              	.LBE377:
 524              	.LBE376:
 525              	.LBB378:
 526              	.LBB379:
   5:drivers/bsp_soft_i2c.c **** }
 527              		.loc 1 5 0
 528 016e 0220     		movs	r0, #2
 529 0170 FFF7FEFF 		bl	delay_us
 530              	.LVL61:
 531              	.LBE379:
 532              	.LBE378:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 14


 533              	.LBB380:
 534              	.LBB381:
  21:drivers/bsp_soft_i2c.c **** }
 535              		.loc 1 21 0
 536 0174 2846     		mov	r0, r5
 537 0176 FFF7FEFF 		bl	bsp_IoClr
 538              	.LVL62:
 539              	.LBE381:
 540              	.LBE380:
 541              	.LBB382:
 542              	.LBB383:
   5:drivers/bsp_soft_i2c.c **** }
 543              		.loc 1 5 0
 544 017a 0220     		movs	r0, #2
 545 017c FFF7FEFF 		bl	delay_us
 546              	.LVL63:
 547              	.LBE383:
 548              	.LBE382:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 549              		.loc 1 116 0
 550 0180 6408     		lsrs	r4, r4, #1
 551              	.LVL64:
 552              	.L13:
 553 0182 34B1     		cbz	r4, .L34
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 554              		.loc 1 117 0
 555 0184 19EA040F 		tst	r9, r4
 556 0188 EBD0     		beq	.L14
 557              	.LVL65:
 558              	.LBB384:
 559              	.LBB385:
  11:drivers/bsp_soft_i2c.c **** 	else
 560              		.loc 1 11 0
 561 018a 5046     		mov	r0, r10
 562 018c FFF7FEFF 		bl	bsp_IoSet
 563              	.LVL66:
 564 0190 EAE7     		b	.L15
 565              	.LVL67:
 566              	.L34:
 567              	.LBE385:
 568              	.LBE384:
 569              	.LBE386:
 570              	.LBE402:
 571              	.LBB403:
 572              	.LBB404:
 573              	.LBB405:
 574              	.LBB406:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 575              		.loc 1 34 0
 576 0192 0323     		movs	r3, #3
 577 0194 7371     		strb	r3, [r6, #5]
  35:drivers/bsp_soft_i2c.c **** }
 578              		.loc 1 35 0
 579 0196 3546     		mov	r5, r6
 580 0198 3046     		mov	r0, r6
 581 019a FFF7FEFF 		bl	bsp_IoInit
 582              	.LVL68:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 15


 583              	.LBE406:
 584              	.LBE405:
 585              	.LBB407:
 586              	.LBB408:
  11:drivers/bsp_soft_i2c.c **** 	else
 587              		.loc 1 11 0
 588 019e 3046     		mov	r0, r6
 589 01a0 FFF7FEFF 		bl	bsp_IoSet
 590              	.LVL69:
 591              	.LBE408:
 592              	.LBE407:
 593              	.LBB409:
 594              	.LBB410:
   5:drivers/bsp_soft_i2c.c **** }
 595              		.loc 1 5 0
 596 01a4 0220     		movs	r0, #2
 597 01a6 FFF7FEFF 		bl	delay_us
 598              	.LVL70:
 599              	.LBE410:
 600              	.LBE409:
 601              	.LBB411:
 602              	.LBB412:
  19:drivers/bsp_soft_i2c.c **** 	else
 603              		.loc 1 19 0
 604 01aa 06F10809 		add	r9, r6, #8
 605 01ae 4846     		mov	r0, r9
 606 01b0 FFF7FEFF 		bl	bsp_IoSet
 607              	.LVL71:
 608              	.LBE412:
 609              	.LBE411:
 610              	.LBB413:
 611              	.LBB414:
   5:drivers/bsp_soft_i2c.c **** }
 612              		.loc 1 5 0
 613 01b4 0220     		movs	r0, #2
 614 01b6 FFF7FEFF 		bl	delay_us
 615              	.LVL72:
 616              	.L17:
 617              	.LBE414:
 618              	.LBE413:
 619              	.LBB415:
 620              	.LBB416:
  26:drivers/bsp_soft_i2c.c **** }
 621              		.loc 1 26 0
 622 01ba 2846     		mov	r0, r5
 623 01bc FFF7FEFF 		bl	bsp_IoRead
 624              	.LVL73:
 625              	.LBE416:
 626              	.LBE415:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 627              		.loc 1 78 0
 628 01c0 E8B1     		cbz	r0, .L35
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 629              		.loc 1 79 0
 630 01c2 0134     		adds	r4, r4, #1
 631              	.LVL74:
 632 01c4 E4B2     		uxtb	r4, r4
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 16


 633              	.LVL75:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 634              		.loc 1 80 0
 635 01c6 FA2C     		cmp	r4, #250
 636 01c8 F7D9     		bls	.L17
 637              	.LVL76:
 638              	.LBB417:
 639              	.LBB418:
 640              	.LBB419:
  32:drivers/bsp_soft_i2c.c **** 	else
 641              		.loc 1 32 0
 642 01ca 0823     		movs	r3, #8
 643 01cc 7371     		strb	r3, [r6, #5]
  35:drivers/bsp_soft_i2c.c **** }
 644              		.loc 1 35 0
 645 01ce 3046     		mov	r0, r6
 646 01d0 FFF7FEFF 		bl	bsp_IoInit
 647              	.LVL77:
 648              	.LBE419:
 649              	.LBE418:
 650              	.LBB420:
 651              	.LBB421:
  21:drivers/bsp_soft_i2c.c **** }
 652              		.loc 1 21 0
 653 01d4 06F10804 		add	r4, r6, #8
 654              	.LVL78:
 655 01d8 2046     		mov	r0, r4
 656 01da FFF7FEFF 		bl	bsp_IoClr
 657              	.LVL79:
 658              	.LBE421:
 659              	.LBE420:
 660              	.LBB422:
 661              	.LBB423:
  13:drivers/bsp_soft_i2c.c **** }
 662              		.loc 1 13 0
 663 01de 3046     		mov	r0, r6
 664 01e0 FFF7FEFF 		bl	bsp_IoClr
 665              	.LVL80:
 666              	.LBE423:
 667              	.LBE422:
 668              	.LBB424:
 669              	.LBB425:
   5:drivers/bsp_soft_i2c.c **** }
 670              		.loc 1 5 0
 671 01e4 0220     		movs	r0, #2
 672 01e6 FFF7FEFF 		bl	delay_us
 673              	.LVL81:
 674              	.LBE425:
 675              	.LBE424:
 676              	.LBB426:
 677              	.LBB427:
  11:drivers/bsp_soft_i2c.c **** 	else
 678              		.loc 1 11 0
 679 01ea 3046     		mov	r0, r6
 680 01ec FFF7FEFF 		bl	bsp_IoSet
 681              	.LVL82:
 682              	.LBE427:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 17


 683              	.LBE426:
 684              	.LBB428:
 685              	.LBB429:
  19:drivers/bsp_soft_i2c.c **** 	else
 686              		.loc 1 19 0
 687 01f0 2046     		mov	r0, r4
 688 01f2 FFF7FEFF 		bl	bsp_IoSet
 689              	.LVL83:
 690              	.LBE429:
 691              	.LBE428:
 692              	.LBB430:
 693              	.LBB431:
   5:drivers/bsp_soft_i2c.c **** }
 694              		.loc 1 5 0
 695 01f6 0220     		movs	r0, #2
 696 01f8 FFF7FEFF 		bl	delay_us
 697              	.LVL84:
 698 01fc 02E0     		b	.L18
 699              	.LVL85:
 700              	.L35:
 701              	.LBE431:
 702              	.LBE430:
 703              	.LBE417:
 704              	.LBB432:
 705              	.LBB433:
  21:drivers/bsp_soft_i2c.c **** }
 706              		.loc 1 21 0
 707 01fe 4846     		mov	r0, r9
 708 0200 FFF7FEFF 		bl	bsp_IoClr
 709              	.LVL86:
 710              	.L18:
 711              	.LBE433:
 712              	.LBE432:
 713              	.LBE404:
 714              	.LBE403:
 156:drivers/bsp_soft_i2c.c **** 	}
 157:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CSendByte(i2c, reg);    //写寄存器地址
 158:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CWaitAck(i2c);        //等待应答
 159:drivers/bsp_soft_i2c.c **** 	for (i = 0; i < len; i++) {
 715              		.loc 1 159 0
 716 0204 4FF00009 		mov	r9, #0
 717 0208 5AE0     		b	.L20
 718              	.LVL87:
 719              	.L22:
 720              	.LBB434:
 721              	.LBB435:
 722              	.LBB436:
 723              	.LBB437:
  13:drivers/bsp_soft_i2c.c **** }
 724              		.loc 1 13 0
 725 020a 5046     		mov	r0, r10
 726 020c FFF7FEFF 		bl	bsp_IoClr
 727              	.LVL88:
 728              	.L23:
 729              	.LBE437:
 730              	.LBE436:
 731              	.LBB438:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 18


 732              	.LBB439:
  19:drivers/bsp_soft_i2c.c **** 	else
 733              		.loc 1 19 0
 734 0210 2846     		mov	r0, r5
 735 0212 FFF7FEFF 		bl	bsp_IoSet
 736              	.LVL89:
 737              	.LBE439:
 738              	.LBE438:
 739              	.LBB440:
 740              	.LBB441:
   5:drivers/bsp_soft_i2c.c **** }
 741              		.loc 1 5 0
 742 0216 0220     		movs	r0, #2
 743 0218 FFF7FEFF 		bl	delay_us
 744              	.LVL90:
 745              	.LBE441:
 746              	.LBE440:
 747              	.LBB442:
 748              	.LBB443:
  21:drivers/bsp_soft_i2c.c **** }
 749              		.loc 1 21 0
 750 021c 2846     		mov	r0, r5
 751 021e FFF7FEFF 		bl	bsp_IoClr
 752              	.LVL91:
 753              	.LBE443:
 754              	.LBE442:
 755              	.LBB444:
 756              	.LBB445:
   5:drivers/bsp_soft_i2c.c **** }
 757              		.loc 1 5 0
 758 0222 0220     		movs	r0, #2
 759 0224 FFF7FEFF 		bl	delay_us
 760              	.LVL92:
 761              	.LBE445:
 762              	.LBE444:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 763              		.loc 1 116 0
 764 0228 6408     		lsrs	r4, r4, #1
 765              	.LVL93:
 766              	.L21:
 767 022a 34B1     		cbz	r4, .L36
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 768              		.loc 1 117 0
 769 022c 1BEA040F 		tst	fp, r4
 770 0230 EBD0     		beq	.L22
 771              	.LVL94:
 772              	.LBB446:
 773              	.LBB447:
  11:drivers/bsp_soft_i2c.c **** 	else
 774              		.loc 1 11 0
 775 0232 5046     		mov	r0, r10
 776 0234 FFF7FEFF 		bl	bsp_IoSet
 777              	.LVL95:
 778 0238 EAE7     		b	.L23
 779              	.LVL96:
 780              	.L36:
 781              	.LBE447:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 19


 782              	.LBE446:
 783              	.LBE435:
 784              	.LBE434:
 785              	.LBB453:
 786              	.LBB454:
 787              	.LBB455:
 788              	.LBB456:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 789              		.loc 1 34 0
 790 023a 0323     		movs	r3, #3
 791 023c 7371     		strb	r3, [r6, #5]
  35:drivers/bsp_soft_i2c.c **** }
 792              		.loc 1 35 0
 793 023e 3546     		mov	r5, r6
 794 0240 3046     		mov	r0, r6
 795 0242 FFF7FEFF 		bl	bsp_IoInit
 796              	.LVL97:
 797              	.LBE456:
 798              	.LBE455:
 799              	.LBB457:
 800              	.LBB458:
  11:drivers/bsp_soft_i2c.c **** 	else
 801              		.loc 1 11 0
 802 0246 3046     		mov	r0, r6
 803 0248 FFF7FEFF 		bl	bsp_IoSet
 804              	.LVL98:
 805              	.LBE458:
 806              	.LBE457:
 807              	.LBB459:
 808              	.LBB460:
   5:drivers/bsp_soft_i2c.c **** }
 809              		.loc 1 5 0
 810 024c 0220     		movs	r0, #2
 811 024e FFF7FEFF 		bl	delay_us
 812              	.LVL99:
 813              	.LBE460:
 814              	.LBE459:
 815              	.LBB461:
 816              	.LBB462:
  19:drivers/bsp_soft_i2c.c **** 	else
 817              		.loc 1 19 0
 818 0252 06F1080A 		add	r10, r6, #8
 819 0256 5046     		mov	r0, r10
 820 0258 FFF7FEFF 		bl	bsp_IoSet
 821              	.LVL100:
 822              	.LBE462:
 823              	.LBE461:
 824              	.LBB463:
 825              	.LBB464:
   5:drivers/bsp_soft_i2c.c **** }
 826              		.loc 1 5 0
 827 025c 0220     		movs	r0, #2
 828 025e FFF7FEFF 		bl	delay_us
 829              	.LVL101:
 830              	.L25:
 831              	.LBE464:
 832              	.LBE463:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 20


 833              	.LBB465:
 834              	.LBB466:
  26:drivers/bsp_soft_i2c.c **** }
 835              		.loc 1 26 0
 836 0262 2846     		mov	r0, r5
 837 0264 FFF7FEFF 		bl	bsp_IoRead
 838              	.LVL102:
 839              	.LBE466:
 840              	.LBE465:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 841              		.loc 1 78 0
 842 0268 8346     		mov	fp, r0
 843 026a F8B1     		cbz	r0, .L37
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 844              		.loc 1 79 0
 845 026c 0134     		adds	r4, r4, #1
 846              	.LVL103:
 847 026e E4B2     		uxtb	r4, r4
 848              	.LVL104:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 849              		.loc 1 80 0
 850 0270 FA2C     		cmp	r4, #250
 851 0272 F6D9     		bls	.L25
 852              	.LVL105:
 853              	.LBB467:
 854              	.LBB468:
 855              	.LBB469:
  32:drivers/bsp_soft_i2c.c **** 	else
 856              		.loc 1 32 0
 857 0274 0823     		movs	r3, #8
 858 0276 7371     		strb	r3, [r6, #5]
  35:drivers/bsp_soft_i2c.c **** }
 859              		.loc 1 35 0
 860 0278 3046     		mov	r0, r6
 861 027a FFF7FEFF 		bl	bsp_IoInit
 862              	.LVL106:
 863              	.LBE469:
 864              	.LBE468:
 865              	.LBB470:
 866              	.LBB471:
  21:drivers/bsp_soft_i2c.c **** }
 867              		.loc 1 21 0
 868 027e 06F10804 		add	r4, r6, #8
 869              	.LVL107:
 870 0282 2046     		mov	r0, r4
 871 0284 FFF7FEFF 		bl	bsp_IoClr
 872              	.LVL108:
 873              	.LBE471:
 874              	.LBE470:
 875              	.LBB472:
 876              	.LBB473:
  13:drivers/bsp_soft_i2c.c **** }
 877              		.loc 1 13 0
 878 0288 3046     		mov	r0, r6
 879 028a FFF7FEFF 		bl	bsp_IoClr
 880              	.LVL109:
 881              	.LBE473:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 21


 882              	.LBE472:
 883              	.LBB474:
 884              	.LBB475:
   5:drivers/bsp_soft_i2c.c **** }
 885              		.loc 1 5 0
 886 028e 0220     		movs	r0, #2
 887 0290 FFF7FEFF 		bl	delay_us
 888              	.LVL110:
 889              	.LBE475:
 890              	.LBE474:
 891              	.LBB476:
 892              	.LBB477:
  11:drivers/bsp_soft_i2c.c **** 	else
 893              		.loc 1 11 0
 894 0294 3046     		mov	r0, r6
 895 0296 FFF7FEFF 		bl	bsp_IoSet
 896              	.LVL111:
 897              	.LBE477:
 898              	.LBE476:
 899              	.LBB478:
 900              	.LBB479:
  19:drivers/bsp_soft_i2c.c **** 	else
 901              		.loc 1 19 0
 902 029a 2046     		mov	r0, r4
 903 029c FFF7FEFF 		bl	bsp_IoSet
 904              	.LVL112:
 905              	.LBE479:
 906              	.LBE478:
 907              	.LBB480:
 908              	.LBB481:
   5:drivers/bsp_soft_i2c.c **** }
 909              		.loc 1 5 0
 910 02a0 0220     		movs	r0, #2
 911 02a2 FFF7FEFF 		bl	delay_us
 912              	.LVL113:
 913              	.LBE481:
 914              	.LBE480:
 915              	.LBE467:
  82:drivers/bsp_soft_i2c.c **** 		}
 916              		.loc 1 82 0
 917 02a6 4FF0010B 		mov	fp, #1
 918 02aa 02E0     		b	.L26
 919              	.LVL114:
 920              	.L37:
 921              	.LBB482:
 922              	.LBB483:
  21:drivers/bsp_soft_i2c.c **** }
 923              		.loc 1 21 0
 924 02ac 5046     		mov	r0, r10
 925 02ae FFF7FEFF 		bl	bsp_IoClr
 926              	.LVL115:
 927              	.L26:
 928              	.LBE483:
 929              	.LBE482:
 930              	.LBE454:
 931              	.LBE453:
 160:drivers/bsp_soft_i2c.c **** 		bsp_SoftI2CSendByte(i2c, dat[i]);    //发送数据
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 22


 161:drivers/bsp_soft_i2c.c **** 		if (bsp_SoftI2CWaitAck(i2c))        //等待ACK
 932              		.loc 1 161 0
 933 02b2 BBF1000F 		cmp	fp, #0
 934 02b6 14D1     		bne	.L28
 159:drivers/bsp_soft_i2c.c **** 		bsp_SoftI2CSendByte(i2c, dat[i]);    //发送数据
 935              		.loc 1 159 0 discriminator 2
 936 02b8 09F10109 		add	r9, r9, #1
 937              	.LVL116:
 938 02bc 1FFA89F9 		uxth	r9, r9
 939              	.LVL117:
 940              	.L20:
 159:drivers/bsp_soft_i2c.c **** 		bsp_SoftI2CSendByte(i2c, dat[i]);    //发送数据
 941              		.loc 1 159 0 is_stmt 0 discriminator 1
 942 02c0 B945     		cmp	r9, r7
 943 02c2 0ED2     		bcs	.L28
 160:drivers/bsp_soft_i2c.c **** 		bsp_SoftI2CSendByte(i2c, dat[i]);    //发送数据
 944              		.loc 1 160 0 is_stmt 1
 945 02c4 18F809B0 		ldrb	fp, [r8, r9]	@ zero_extendqisi2
 946              	.LVL118:
 947              	.LBB484:
 948              	.LBB452:
 949              	.LBB448:
 950              	.LBB449:
  32:drivers/bsp_soft_i2c.c **** 	else
 951              		.loc 1 32 0
 952 02c8 0823     		movs	r3, #8
 953 02ca 7371     		strb	r3, [r6, #5]
  35:drivers/bsp_soft_i2c.c **** }
 954              		.loc 1 35 0
 955 02cc B246     		mov	r10, r6
 956 02ce 3046     		mov	r0, r6
 957 02d0 FFF7FEFF 		bl	bsp_IoInit
 958              	.LVL119:
 959              	.LBE449:
 960              	.LBE448:
 961              	.LBB450:
 962              	.LBB451:
  21:drivers/bsp_soft_i2c.c **** }
 963              		.loc 1 21 0
 964 02d4 06F10805 		add	r5, r6, #8
 965              	.LVL120:
 966 02d8 2846     		mov	r0, r5
 967 02da FFF7FEFF 		bl	bsp_IoClr
 968              	.LVL121:
 969              	.LBE451:
 970              	.LBE450:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 971              		.loc 1 116 0
 972 02de 8024     		movs	r4, #128
 973 02e0 A3E7     		b	.L21
 974              	.LVL122:
 975              	.L28:
 976              	.LBE452:
 977              	.LBE484:
 978              	.LBB485:
 979              	.LBB486:
 980              	.LBB487:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 23


  32:drivers/bsp_soft_i2c.c **** 	else
 981              		.loc 1 32 0
 982 02e2 0823     		movs	r3, #8
 983 02e4 7371     		strb	r3, [r6, #5]
  35:drivers/bsp_soft_i2c.c **** }
 984              		.loc 1 35 0
 985 02e6 3046     		mov	r0, r6
 986 02e8 FFF7FEFF 		bl	bsp_IoInit
 987              	.LVL123:
 988              	.LBE487:
 989              	.LBE486:
 990              	.LBB488:
 991              	.LBB489:
  21:drivers/bsp_soft_i2c.c **** }
 992              		.loc 1 21 0
 993 02ec 06F10804 		add	r4, r6, #8
 994 02f0 2046     		mov	r0, r4
 995 02f2 FFF7FEFF 		bl	bsp_IoClr
 996              	.LVL124:
 997              	.LBE489:
 998              	.LBE488:
 999              	.LBB490:
 1000              	.LBB491:
  13:drivers/bsp_soft_i2c.c **** }
 1001              		.loc 1 13 0
 1002 02f6 3046     		mov	r0, r6
 1003 02f8 FFF7FEFF 		bl	bsp_IoClr
 1004              	.LVL125:
 1005              	.LBE491:
 1006              	.LBE490:
 1007              	.LBB492:
 1008              	.LBB493:
   5:drivers/bsp_soft_i2c.c **** }
 1009              		.loc 1 5 0
 1010 02fc 0220     		movs	r0, #2
 1011 02fe FFF7FEFF 		bl	delay_us
 1012              	.LVL126:
 1013              	.LBE493:
 1014              	.LBE492:
 1015              	.LBB494:
 1016              	.LBB495:
  11:drivers/bsp_soft_i2c.c **** 	else
 1017              		.loc 1 11 0
 1018 0302 3046     		mov	r0, r6
 1019 0304 FFF7FEFF 		bl	bsp_IoSet
 1020              	.LVL127:
 1021              	.LBE495:
 1022              	.LBE494:
 1023              	.LBB496:
 1024              	.LBB497:
  19:drivers/bsp_soft_i2c.c **** 	else
 1025              		.loc 1 19 0
 1026 0308 2046     		mov	r0, r4
 1027 030a FFF7FEFF 		bl	bsp_IoSet
 1028              	.LVL128:
 1029              	.LBE497:
 1030              	.LBE496:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 24


 1031              	.LBB498:
 1032              	.LBB499:
   5:drivers/bsp_soft_i2c.c **** }
 1033              		.loc 1 5 0
 1034 030e 0220     		movs	r0, #2
 1035 0310 FFF7FEFF 		bl	delay_us
 1036              	.LVL129:
 1037              	.LBE499:
 1038              	.LBE498:
 1039              	.LBE485:
 162:drivers/bsp_soft_i2c.c **** 		{
 163:drivers/bsp_soft_i2c.c **** 			break;
 164:drivers/bsp_soft_i2c.c **** 		}
 165:drivers/bsp_soft_i2c.c **** 	}
 166:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CStop(i2c);
 167:drivers/bsp_soft_i2c.c **** 	return i;
 1040              		.loc 1 167 0
 1041 0314 0FFA89F0 		sxth	r0, r9
 1042              	.LVL130:
 1043              	.L12:
 168:drivers/bsp_soft_i2c.c **** }
 1044              		.loc 1 168 0
 1045 0318 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1046              		.cfi_endproc
 1047              	.LFE79:
 1049              		.section	.text.bsp_SoftI2CRead,"ax",%progbits
 1050              		.align	1
 1051              		.global	bsp_SoftI2CRead
 1052              		.syntax unified
 1053              		.thumb
 1054              		.thumb_func
 1055              		.fpu softvfp
 1057              	bsp_SoftI2CRead:
 1058              	.LFB80:
 169:drivers/bsp_soft_i2c.c **** 
 170:drivers/bsp_soft_i2c.c **** s16 bsp_SoftI2CRead(_I2C *i2c, u8 addr, u8 reg, u8 *dat, u16 len)
 171:drivers/bsp_soft_i2c.c **** {
 1059              		.loc 1 171 0
 1060              		.cfi_startproc
 1061              		@ args = 4, pretend = 0, frame = 8
 1062              		@ frame_needed = 0, uses_anonymous_args = 0
 1063              	.LVL131:
 1064 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1065              	.LCFI2:
 1066              		.cfi_def_cfa_offset 36
 1067              		.cfi_offset 4, -36
 1068              		.cfi_offset 5, -32
 1069              		.cfi_offset 6, -28
 1070              		.cfi_offset 7, -24
 1071              		.cfi_offset 8, -20
 1072              		.cfi_offset 9, -16
 1073              		.cfi_offset 10, -12
 1074              		.cfi_offset 11, -8
 1075              		.cfi_offset 14, -4
 1076 0004 83B0     		sub	sp, sp, #12
 1077              	.LCFI3:
 1078              		.cfi_def_cfa_offset 48
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 25


 1079 0006 0446     		mov	r4, r0
 1080 0008 8946     		mov	r9, r1
 1081 000a 9246     		mov	r10, r2
 1082 000c 9846     		mov	r8, r3
 1083 000e BDF83060 		ldrh	r6, [sp, #48]
 1084              	.LVL132:
 1085              	.LBB802:
 1086              	.LBB803:
 1087              	.LBB804:
  32:drivers/bsp_soft_i2c.c **** 	else
 1088              		.loc 1 32 0
 1089 0012 0827     		movs	r7, #8
 1090 0014 4771     		strb	r7, [r0, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1091              		.loc 1 35 0
 1092 0016 FFF7FEFF 		bl	bsp_IoInit
 1093              	.LVL133:
 1094              	.LBE804:
 1095              	.LBE803:
 1096              	.LBB805:
 1097              	.LBB806:
  11:drivers/bsp_soft_i2c.c **** 	else
 1098              		.loc 1 11 0
 1099 001a 2046     		mov	r0, r4
 1100 001c FFF7FEFF 		bl	bsp_IoSet
 1101              	.LVL134:
 1102              	.LBE806:
 1103              	.LBE805:
 1104              	.LBB807:
 1105              	.LBB808:
  19:drivers/bsp_soft_i2c.c **** 	else
 1106              		.loc 1 19 0
 1107 0020 E519     		adds	r5, r4, r7
 1108 0022 2846     		mov	r0, r5
 1109 0024 FFF7FEFF 		bl	bsp_IoSet
 1110              	.LVL135:
 1111              	.LBE808:
 1112              	.LBE807:
 1113              	.LBB809:
 1114              	.LBB810:
   5:drivers/bsp_soft_i2c.c **** }
 1115              		.loc 1 5 0
 1116 0028 0220     		movs	r0, #2
 1117 002a FFF7FEFF 		bl	delay_us
 1118              	.LVL136:
 1119              	.LBE810:
 1120              	.LBE809:
 1121              	.LBB811:
 1122              	.LBB812:
  13:drivers/bsp_soft_i2c.c **** }
 1123              		.loc 1 13 0
 1124 002e 2046     		mov	r0, r4
 1125 0030 FFF7FEFF 		bl	bsp_IoClr
 1126              	.LVL137:
 1127              	.LBE812:
 1128              	.LBE811:
 1129              	.LBB813:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 26


 1130              	.LBB814:
   5:drivers/bsp_soft_i2c.c **** }
 1131              		.loc 1 5 0
 1132 0034 0220     		movs	r0, #2
 1133 0036 FFF7FEFF 		bl	delay_us
 1134              	.LVL138:
 1135              	.LBE814:
 1136              	.LBE813:
 1137              	.LBB815:
 1138              	.LBB816:
  21:drivers/bsp_soft_i2c.c **** }
 1139              		.loc 1 21 0
 1140 003a 2846     		mov	r0, r5
 1141 003c FFF7FEFF 		bl	bsp_IoClr
 1142              	.LVL139:
 1143              	.LBE816:
 1144              	.LBE815:
 1145              	.LBE802:
 172:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CStart(i2c);
 173:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CSendByte(i2c, (addr << 1) | 0);//发送器件地址+写命令
 1146              		.loc 1 173 0
 1147 0040 4FEA490B 		lsl	fp, r9, #1
 1148 0044 5FFA8BFB 		uxtb	fp, fp
 1149              	.LVL140:
 1150              	.LBB817:
 1151              	.LBB818:
 1152              	.LBB819:
 1153              	.LBB820:
  32:drivers/bsp_soft_i2c.c **** 	else
 1154              		.loc 1 32 0
 1155 0048 6771     		strb	r7, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1156              		.loc 1 35 0
 1157 004a 0194     		str	r4, [sp, #4]
 1158 004c 2046     		mov	r0, r4
 1159 004e FFF7FEFF 		bl	bsp_IoInit
 1160              	.LVL141:
 1161              	.LBE820:
 1162              	.LBE819:
 1163              	.LBB821:
 1164              	.LBB822:
  21:drivers/bsp_soft_i2c.c **** }
 1165              		.loc 1 21 0
 1166 0052 2F46     		mov	r7, r5
 1167 0054 2846     		mov	r0, r5
 1168 0056 FFF7FEFF 		bl	bsp_IoClr
 1169              	.LVL142:
 1170              	.LBE822:
 1171              	.LBE821:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 1172              		.loc 1 116 0
 1173 005a 8025     		movs	r5, #128
 1174 005c 0FE0     		b	.L39
 1175              	.LVL143:
 1176              	.L40:
 1177              	.LBB823:
 1178              	.LBB824:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 27


  13:drivers/bsp_soft_i2c.c **** }
 1179              		.loc 1 13 0
 1180 005e 0198     		ldr	r0, [sp, #4]
 1181 0060 FFF7FEFF 		bl	bsp_IoClr
 1182              	.LVL144:
 1183              	.L41:
 1184              	.LBE824:
 1185              	.LBE823:
 1186              	.LBB825:
 1187              	.LBB826:
  19:drivers/bsp_soft_i2c.c **** 	else
 1188              		.loc 1 19 0
 1189 0064 3846     		mov	r0, r7
 1190 0066 FFF7FEFF 		bl	bsp_IoSet
 1191              	.LVL145:
 1192              	.LBE826:
 1193              	.LBE825:
 1194              	.LBB827:
 1195              	.LBB828:
   5:drivers/bsp_soft_i2c.c **** }
 1196              		.loc 1 5 0
 1197 006a 0220     		movs	r0, #2
 1198 006c FFF7FEFF 		bl	delay_us
 1199              	.LVL146:
 1200              	.LBE828:
 1201              	.LBE827:
 1202              	.LBB829:
 1203              	.LBB830:
  21:drivers/bsp_soft_i2c.c **** }
 1204              		.loc 1 21 0
 1205 0070 3846     		mov	r0, r7
 1206 0072 FFF7FEFF 		bl	bsp_IoClr
 1207              	.LVL147:
 1208              	.LBE830:
 1209              	.LBE829:
 1210              	.LBB831:
 1211              	.LBB832:
   5:drivers/bsp_soft_i2c.c **** }
 1212              		.loc 1 5 0
 1213 0076 0220     		movs	r0, #2
 1214 0078 FFF7FEFF 		bl	delay_us
 1215              	.LVL148:
 1216              	.LBE832:
 1217              	.LBE831:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 1218              		.loc 1 116 0
 1219 007c 6D08     		lsrs	r5, r5, #1
 1220              	.LVL149:
 1221              	.L39:
 1222 007e 35B1     		cbz	r5, .L73
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 1223              		.loc 1 117 0
 1224 0080 1BEA050F 		tst	fp, r5
 1225 0084 EBD0     		beq	.L40
 1226              	.LVL150:
 1227              	.LBB833:
 1228              	.LBB834:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 28


  11:drivers/bsp_soft_i2c.c **** 	else
 1229              		.loc 1 11 0
 1230 0086 0198     		ldr	r0, [sp, #4]
 1231 0088 FFF7FEFF 		bl	bsp_IoSet
 1232              	.LVL151:
 1233 008c EAE7     		b	.L41
 1234              	.LVL152:
 1235              	.L73:
 1236              	.LBE834:
 1237              	.LBE833:
 1238              	.LBE818:
 1239              	.LBE817:
 1240              	.LBB835:
 1241              	.LBB836:
 1242              	.LBB837:
 1243              	.LBB838:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 1244              		.loc 1 34 0
 1245 008e 0323     		movs	r3, #3
 1246 0090 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1247              		.loc 1 35 0
 1248 0092 A346     		mov	fp, r4
 1249 0094 2046     		mov	r0, r4
 1250 0096 FFF7FEFF 		bl	bsp_IoInit
 1251              	.LVL153:
 1252              	.LBE838:
 1253              	.LBE837:
 1254              	.LBB839:
 1255              	.LBB840:
  11:drivers/bsp_soft_i2c.c **** 	else
 1256              		.loc 1 11 0
 1257 009a 2046     		mov	r0, r4
 1258 009c FFF7FEFF 		bl	bsp_IoSet
 1259              	.LVL154:
 1260              	.LBE840:
 1261              	.LBE839:
 1262              	.LBB841:
 1263              	.LBB842:
   5:drivers/bsp_soft_i2c.c **** }
 1264              		.loc 1 5 0
 1265 00a0 0220     		movs	r0, #2
 1266 00a2 FFF7FEFF 		bl	delay_us
 1267              	.LVL155:
 1268              	.LBE842:
 1269              	.LBE841:
 1270              	.LBB843:
 1271              	.LBB844:
  19:drivers/bsp_soft_i2c.c **** 	else
 1272              		.loc 1 19 0
 1273 00a6 04F10803 		add	r3, r4, #8
 1274 00aa 0193     		str	r3, [sp, #4]
 1275 00ac 1846     		mov	r0, r3
 1276 00ae FFF7FEFF 		bl	bsp_IoSet
 1277              	.LVL156:
 1278              	.LBE844:
 1279              	.LBE843:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 29


 1280              	.LBB845:
 1281              	.LBB846:
   5:drivers/bsp_soft_i2c.c **** }
 1282              		.loc 1 5 0
 1283 00b2 0220     		movs	r0, #2
 1284 00b4 FFF7FEFF 		bl	delay_us
 1285              	.LVL157:
 1286              	.L43:
 1287              	.LBE846:
 1288              	.LBE845:
 1289              	.LBB847:
 1290              	.LBB848:
  26:drivers/bsp_soft_i2c.c **** }
 1291              		.loc 1 26 0
 1292 00b8 5846     		mov	r0, fp
 1293 00ba FFF7FEFF 		bl	bsp_IoRead
 1294              	.LVL158:
 1295              	.LBE848:
 1296              	.LBE847:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 1297              		.loc 1 78 0
 1298 00be 0746     		mov	r7, r0
 1299 00c0 F0B1     		cbz	r0, .L74
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 1300              		.loc 1 79 0
 1301 00c2 0135     		adds	r5, r5, #1
 1302              	.LVL159:
 1303 00c4 EDB2     		uxtb	r5, r5
 1304              	.LVL160:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 1305              		.loc 1 80 0
 1306 00c6 FA2D     		cmp	r5, #250
 1307 00c8 F6D9     		bls	.L43
 1308              	.LVL161:
 1309              	.LBB849:
 1310              	.LBB850:
 1311              	.LBB851:
  32:drivers/bsp_soft_i2c.c **** 	else
 1312              		.loc 1 32 0
 1313 00ca 0823     		movs	r3, #8
 1314 00cc 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1315              		.loc 1 35 0
 1316 00ce 2046     		mov	r0, r4
 1317 00d0 FFF7FEFF 		bl	bsp_IoInit
 1318              	.LVL162:
 1319              	.LBE851:
 1320              	.LBE850:
 1321              	.LBB852:
 1322              	.LBB853:
  21:drivers/bsp_soft_i2c.c **** }
 1323              		.loc 1 21 0
 1324 00d4 04F10805 		add	r5, r4, #8
 1325              	.LVL163:
 1326 00d8 2846     		mov	r0, r5
 1327 00da FFF7FEFF 		bl	bsp_IoClr
 1328              	.LVL164:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 30


 1329              	.LBE853:
 1330              	.LBE852:
 1331              	.LBB854:
 1332              	.LBB855:
  13:drivers/bsp_soft_i2c.c **** }
 1333              		.loc 1 13 0
 1334 00de 2046     		mov	r0, r4
 1335 00e0 FFF7FEFF 		bl	bsp_IoClr
 1336              	.LVL165:
 1337              	.LBE855:
 1338              	.LBE854:
 1339              	.LBB856:
 1340              	.LBB857:
   5:drivers/bsp_soft_i2c.c **** }
 1341              		.loc 1 5 0
 1342 00e4 0220     		movs	r0, #2
 1343 00e6 FFF7FEFF 		bl	delay_us
 1344              	.LVL166:
 1345              	.LBE857:
 1346              	.LBE856:
 1347              	.LBB858:
 1348              	.LBB859:
  11:drivers/bsp_soft_i2c.c **** 	else
 1349              		.loc 1 11 0
 1350 00ea 2046     		mov	r0, r4
 1351 00ec FFF7FEFF 		bl	bsp_IoSet
 1352              	.LVL167:
 1353              	.LBE859:
 1354              	.LBE858:
 1355              	.LBB860:
 1356              	.LBB861:
  19:drivers/bsp_soft_i2c.c **** 	else
 1357              		.loc 1 19 0
 1358 00f0 2846     		mov	r0, r5
 1359 00f2 FFF7FEFF 		bl	bsp_IoSet
 1360              	.LVL168:
 1361              	.LBE861:
 1362              	.LBE860:
 1363              	.LBB862:
 1364              	.LBB863:
   5:drivers/bsp_soft_i2c.c **** }
 1365              		.loc 1 5 0
 1366 00f6 0220     		movs	r0, #2
 1367 00f8 FFF7FEFF 		bl	delay_us
 1368              	.LVL169:
 1369              	.LBE863:
 1370              	.LBE862:
 1371              	.LBE849:
  82:drivers/bsp_soft_i2c.c **** 		}
 1372              		.loc 1 82 0
 1373 00fc 0127     		movs	r7, #1
 1374 00fe 02E0     		b	.L44
 1375              	.LVL170:
 1376              	.L74:
 1377              	.LBB864:
 1378              	.LBB865:
  21:drivers/bsp_soft_i2c.c **** }
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 31


 1379              		.loc 1 21 0
 1380 0100 0198     		ldr	r0, [sp, #4]
 1381 0102 FFF7FEFF 		bl	bsp_IoClr
 1382              	.LVL171:
 1383              	.L44:
 1384              	.LBE865:
 1385              	.LBE864:
 1386              	.LBE836:
 1387              	.LBE835:
 174:drivers/bsp_soft_i2c.c **** 	if (bsp_SoftI2CWaitAck(i2c))    //等待应答
 1388              		.loc 1 174 0
 1389 0106 67B9     		cbnz	r7, .L75
 1390              	.LVL172:
 1391              	.LBB866:
 1392              	.LBB867:
 1393              	.LBB868:
 1394              	.LBB869:
  32:drivers/bsp_soft_i2c.c **** 	else
 1395              		.loc 1 32 0
 1396 0108 0823     		movs	r3, #8
 1397 010a 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1398              		.loc 1 35 0
 1399 010c 0194     		str	r4, [sp, #4]
 1400 010e 2046     		mov	r0, r4
 1401 0110 FFF7FEFF 		bl	bsp_IoInit
 1402              	.LVL173:
 1403              	.LBE869:
 1404              	.LBE868:
 1405              	.LBB870:
 1406              	.LBB871:
  21:drivers/bsp_soft_i2c.c **** }
 1407              		.loc 1 21 0
 1408 0114 04F1080B 		add	fp, r4, #8
 1409 0118 5846     		mov	r0, fp
 1410 011a FFF7FEFF 		bl	bsp_IoClr
 1411              	.LVL174:
 1412              	.LBE871:
 1413              	.LBE870:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 1414              		.loc 1 116 0
 1415 011e 8025     		movs	r5, #128
 1416 0120 2BE0     		b	.L48
 1417              	.LVL175:
 1418              	.L75:
 1419              	.LBE867:
 1420              	.LBE866:
 1421              	.LBB885:
 1422              	.LBB886:
 1423              	.LBB887:
  32:drivers/bsp_soft_i2c.c **** 	else
 1424              		.loc 1 32 0
 1425 0122 0823     		movs	r3, #8
 1426 0124 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1427              		.loc 1 35 0
 1428 0126 2046     		mov	r0, r4
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 32


 1429 0128 FFF7FEFF 		bl	bsp_IoInit
 1430              	.LVL176:
 1431              	.LBE887:
 1432              	.LBE886:
 1433              	.LBB888:
 1434              	.LBB889:
  21:drivers/bsp_soft_i2c.c **** }
 1435              		.loc 1 21 0
 1436 012c 04F10805 		add	r5, r4, #8
 1437 0130 2846     		mov	r0, r5
 1438 0132 FFF7FEFF 		bl	bsp_IoClr
 1439              	.LVL177:
 1440              	.LBE889:
 1441              	.LBE888:
 1442              	.LBB890:
 1443              	.LBB891:
  13:drivers/bsp_soft_i2c.c **** }
 1444              		.loc 1 13 0
 1445 0136 2046     		mov	r0, r4
 1446 0138 FFF7FEFF 		bl	bsp_IoClr
 1447              	.LVL178:
 1448              	.LBE891:
 1449              	.LBE890:
 1450              	.LBB892:
 1451              	.LBB893:
   5:drivers/bsp_soft_i2c.c **** }
 1452              		.loc 1 5 0
 1453 013c 0220     		movs	r0, #2
 1454 013e FFF7FEFF 		bl	delay_us
 1455              	.LVL179:
 1456              	.LBE893:
 1457              	.LBE892:
 1458              	.LBB894:
 1459              	.LBB895:
  11:drivers/bsp_soft_i2c.c **** 	else
 1460              		.loc 1 11 0
 1461 0142 2046     		mov	r0, r4
 1462 0144 FFF7FEFF 		bl	bsp_IoSet
 1463              	.LVL180:
 1464              	.LBE895:
 1465              	.LBE894:
 1466              	.LBB896:
 1467              	.LBB897:
  19:drivers/bsp_soft_i2c.c **** 	else
 1468              		.loc 1 19 0
 1469 0148 2846     		mov	r0, r5
 1470 014a FFF7FEFF 		bl	bsp_IoSet
 1471              	.LVL181:
 1472              	.LBE897:
 1473              	.LBE896:
 1474              	.LBB898:
 1475              	.LBB899:
   5:drivers/bsp_soft_i2c.c **** }
 1476              		.loc 1 5 0
 1477 014e 0220     		movs	r0, #2
 1478 0150 FFF7FEFF 		bl	delay_us
 1479              	.LVL182:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 33


 1480              	.LBE899:
 1481              	.LBE898:
 1482              	.LBE885:
 175:drivers/bsp_soft_i2c.c **** 	{
 176:drivers/bsp_soft_i2c.c **** 		bsp_SoftI2CStop(i2c);
 177:drivers/bsp_soft_i2c.c **** 		return -1;
 1483              		.loc 1 177 0
 1484 0154 4FF0FF30 		mov	r0, #-1
 1485 0158 7CE1     		b	.L47
 1486              	.LVL183:
 1487              	.L49:
 1488              	.LBB900:
 1489              	.LBB884:
 1490              	.LBB872:
 1491              	.LBB873:
  13:drivers/bsp_soft_i2c.c **** }
 1492              		.loc 1 13 0
 1493 015a 0198     		ldr	r0, [sp, #4]
 1494 015c FFF7FEFF 		bl	bsp_IoClr
 1495              	.LVL184:
 1496              	.L50:
 1497              	.LBE873:
 1498              	.LBE872:
 1499              	.LBB874:
 1500              	.LBB875:
  19:drivers/bsp_soft_i2c.c **** 	else
 1501              		.loc 1 19 0
 1502 0160 5846     		mov	r0, fp
 1503 0162 FFF7FEFF 		bl	bsp_IoSet
 1504              	.LVL185:
 1505              	.LBE875:
 1506              	.LBE874:
 1507              	.LBB876:
 1508              	.LBB877:
   5:drivers/bsp_soft_i2c.c **** }
 1509              		.loc 1 5 0
 1510 0166 0220     		movs	r0, #2
 1511 0168 FFF7FEFF 		bl	delay_us
 1512              	.LVL186:
 1513              	.LBE877:
 1514              	.LBE876:
 1515              	.LBB878:
 1516              	.LBB879:
  21:drivers/bsp_soft_i2c.c **** }
 1517              		.loc 1 21 0
 1518 016c 5846     		mov	r0, fp
 1519 016e FFF7FEFF 		bl	bsp_IoClr
 1520              	.LVL187:
 1521              	.LBE879:
 1522              	.LBE878:
 1523              	.LBB880:
 1524              	.LBB881:
   5:drivers/bsp_soft_i2c.c **** }
 1525              		.loc 1 5 0
 1526 0172 0220     		movs	r0, #2
 1527 0174 FFF7FEFF 		bl	delay_us
 1528              	.LVL188:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 34


 1529              	.LBE881:
 1530              	.LBE880:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 1531              		.loc 1 116 0
 1532 0178 6D08     		lsrs	r5, r5, #1
 1533              	.LVL189:
 1534              	.L48:
 1535 017a 35B1     		cbz	r5, .L76
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 1536              		.loc 1 117 0
 1537 017c 1AEA050F 		tst	r10, r5
 1538 0180 EBD0     		beq	.L49
 1539              	.LVL190:
 1540              	.LBB882:
 1541              	.LBB883:
  11:drivers/bsp_soft_i2c.c **** 	else
 1542              		.loc 1 11 0
 1543 0182 0198     		ldr	r0, [sp, #4]
 1544 0184 FFF7FEFF 		bl	bsp_IoSet
 1545              	.LVL191:
 1546 0188 EAE7     		b	.L50
 1547              	.LVL192:
 1548              	.L76:
 1549              	.LBE883:
 1550              	.LBE882:
 1551              	.LBE884:
 1552              	.LBE900:
 1553              	.LBB901:
 1554              	.LBB902:
 1555              	.LBB903:
 1556              	.LBB904:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 1557              		.loc 1 34 0
 1558 018a 0323     		movs	r3, #3
 1559 018c 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1560              		.loc 1 35 0
 1561 018e A246     		mov	r10, r4
 1562 0190 2046     		mov	r0, r4
 1563 0192 FFF7FEFF 		bl	bsp_IoInit
 1564              	.LVL193:
 1565              	.LBE904:
 1566              	.LBE903:
 1567              	.LBB905:
 1568              	.LBB906:
  11:drivers/bsp_soft_i2c.c **** 	else
 1569              		.loc 1 11 0
 1570 0196 2046     		mov	r0, r4
 1571 0198 FFF7FEFF 		bl	bsp_IoSet
 1572              	.LVL194:
 1573              	.LBE906:
 1574              	.LBE905:
 1575              	.LBB907:
 1576              	.LBB908:
   5:drivers/bsp_soft_i2c.c **** }
 1577              		.loc 1 5 0
 1578 019c 0220     		movs	r0, #2
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 35


 1579 019e FFF7FEFF 		bl	delay_us
 1580              	.LVL195:
 1581              	.LBE908:
 1582              	.LBE907:
 1583              	.LBB909:
 1584              	.LBB910:
  19:drivers/bsp_soft_i2c.c **** 	else
 1585              		.loc 1 19 0
 1586 01a2 04F1080B 		add	fp, r4, #8
 1587 01a6 5846     		mov	r0, fp
 1588 01a8 FFF7FEFF 		bl	bsp_IoSet
 1589              	.LVL196:
 1590              	.LBE910:
 1591              	.LBE909:
 1592              	.LBB911:
 1593              	.LBB912:
   5:drivers/bsp_soft_i2c.c **** }
 1594              		.loc 1 5 0
 1595 01ac 0220     		movs	r0, #2
 1596 01ae FFF7FEFF 		bl	delay_us
 1597              	.LVL197:
 1598              	.L52:
 1599              	.LBE912:
 1600              	.LBE911:
 1601              	.LBB913:
 1602              	.LBB914:
  26:drivers/bsp_soft_i2c.c **** }
 1603              		.loc 1 26 0
 1604 01b2 5046     		mov	r0, r10
 1605 01b4 FFF7FEFF 		bl	bsp_IoRead
 1606              	.LVL198:
 1607              	.LBE914:
 1608              	.LBE913:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 1609              		.loc 1 78 0
 1610 01b8 E8B1     		cbz	r0, .L77
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 1611              		.loc 1 79 0
 1612 01ba 0135     		adds	r5, r5, #1
 1613              	.LVL199:
 1614 01bc EDB2     		uxtb	r5, r5
 1615              	.LVL200:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 1616              		.loc 1 80 0
 1617 01be FA2D     		cmp	r5, #250
 1618 01c0 F7D9     		bls	.L52
 1619              	.LVL201:
 1620              	.LBB915:
 1621              	.LBB916:
 1622              	.LBB917:
  32:drivers/bsp_soft_i2c.c **** 	else
 1623              		.loc 1 32 0
 1624 01c2 0823     		movs	r3, #8
 1625 01c4 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1626              		.loc 1 35 0
 1627 01c6 2046     		mov	r0, r4
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 36


 1628 01c8 FFF7FEFF 		bl	bsp_IoInit
 1629              	.LVL202:
 1630              	.LBE917:
 1631              	.LBE916:
 1632              	.LBB918:
 1633              	.LBB919:
  21:drivers/bsp_soft_i2c.c **** }
 1634              		.loc 1 21 0
 1635 01cc 04F10805 		add	r5, r4, #8
 1636              	.LVL203:
 1637 01d0 2846     		mov	r0, r5
 1638 01d2 FFF7FEFF 		bl	bsp_IoClr
 1639              	.LVL204:
 1640              	.LBE919:
 1641              	.LBE918:
 1642              	.LBB920:
 1643              	.LBB921:
  13:drivers/bsp_soft_i2c.c **** }
 1644              		.loc 1 13 0
 1645 01d6 2046     		mov	r0, r4
 1646 01d8 FFF7FEFF 		bl	bsp_IoClr
 1647              	.LVL205:
 1648              	.LBE921:
 1649              	.LBE920:
 1650              	.LBB922:
 1651              	.LBB923:
   5:drivers/bsp_soft_i2c.c **** }
 1652              		.loc 1 5 0
 1653 01dc 0220     		movs	r0, #2
 1654 01de FFF7FEFF 		bl	delay_us
 1655              	.LVL206:
 1656              	.LBE923:
 1657              	.LBE922:
 1658              	.LBB924:
 1659              	.LBB925:
  11:drivers/bsp_soft_i2c.c **** 	else
 1660              		.loc 1 11 0
 1661 01e2 2046     		mov	r0, r4
 1662 01e4 FFF7FEFF 		bl	bsp_IoSet
 1663              	.LVL207:
 1664              	.LBE925:
 1665              	.LBE924:
 1666              	.LBB926:
 1667              	.LBB927:
  19:drivers/bsp_soft_i2c.c **** 	else
 1668              		.loc 1 19 0
 1669 01e8 2846     		mov	r0, r5
 1670 01ea FFF7FEFF 		bl	bsp_IoSet
 1671              	.LVL208:
 1672              	.LBE927:
 1673              	.LBE926:
 1674              	.LBB928:
 1675              	.LBB929:
   5:drivers/bsp_soft_i2c.c **** }
 1676              		.loc 1 5 0
 1677 01ee 0220     		movs	r0, #2
 1678 01f0 FFF7FEFF 		bl	delay_us
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 37


 1679              	.LVL209:
 1680 01f4 02E0     		b	.L53
 1681              	.LVL210:
 1682              	.L77:
 1683              	.LBE929:
 1684              	.LBE928:
 1685              	.LBE915:
 1686              	.LBB930:
 1687              	.LBB931:
  21:drivers/bsp_soft_i2c.c **** }
 1688              		.loc 1 21 0
 1689 01f6 5846     		mov	r0, fp
 1690 01f8 FFF7FEFF 		bl	bsp_IoClr
 1691              	.LVL211:
 1692              	.L53:
 1693              	.LBE931:
 1694              	.LBE930:
 1695              	.LBE902:
 1696              	.LBE901:
 1697              	.LBB932:
 1698              	.LBB933:
 1699              	.LBB934:
  32:drivers/bsp_soft_i2c.c **** 	else
 1700              		.loc 1 32 0
 1701 01fc 0825     		movs	r5, #8
 1702 01fe 6571     		strb	r5, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1703              		.loc 1 35 0
 1704 0200 2046     		mov	r0, r4
 1705 0202 FFF7FEFF 		bl	bsp_IoInit
 1706              	.LVL212:
 1707              	.LBE934:
 1708              	.LBE933:
 1709              	.LBB935:
 1710              	.LBB936:
  11:drivers/bsp_soft_i2c.c **** 	else
 1711              		.loc 1 11 0
 1712 0206 2046     		mov	r0, r4
 1713 0208 FFF7FEFF 		bl	bsp_IoSet
 1714              	.LVL213:
 1715              	.LBE936:
 1716              	.LBE935:
 1717              	.LBB937:
 1718              	.LBB938:
  19:drivers/bsp_soft_i2c.c **** 	else
 1719              		.loc 1 19 0
 1720 020c 04EB050A 		add	r10, r4, r5
 1721 0210 5046     		mov	r0, r10
 1722 0212 FFF7FEFF 		bl	bsp_IoSet
 1723              	.LVL214:
 1724              	.LBE938:
 1725              	.LBE937:
 1726              	.LBB939:
 1727              	.LBB940:
   5:drivers/bsp_soft_i2c.c **** }
 1728              		.loc 1 5 0
 1729 0216 0220     		movs	r0, #2
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 38


 1730 0218 FFF7FEFF 		bl	delay_us
 1731              	.LVL215:
 1732              	.LBE940:
 1733              	.LBE939:
 1734              	.LBB941:
 1735              	.LBB942:
  13:drivers/bsp_soft_i2c.c **** }
 1736              		.loc 1 13 0
 1737 021c 2046     		mov	r0, r4
 1738 021e FFF7FEFF 		bl	bsp_IoClr
 1739              	.LVL216:
 1740              	.LBE942:
 1741              	.LBE941:
 1742              	.LBB943:
 1743              	.LBB944:
   5:drivers/bsp_soft_i2c.c **** }
 1744              		.loc 1 5 0
 1745 0222 0220     		movs	r0, #2
 1746 0224 FFF7FEFF 		bl	delay_us
 1747              	.LVL217:
 1748              	.LBE944:
 1749              	.LBE943:
 1750              	.LBB945:
 1751              	.LBB946:
  21:drivers/bsp_soft_i2c.c **** }
 1752              		.loc 1 21 0
 1753 0228 5046     		mov	r0, r10
 1754 022a FFF7FEFF 		bl	bsp_IoClr
 1755              	.LVL218:
 1756              	.LBE946:
 1757              	.LBE945:
 1758              	.LBE932:
 178:drivers/bsp_soft_i2c.c **** 	}
 179:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CSendByte(i2c, reg);    //写寄存器地址
 180:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CWaitAck(i2c);        //等待应答
 181:drivers/bsp_soft_i2c.c **** 
 182:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CStart(i2c);
 183:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CSendByte(i2c, (addr << 1) | 1);//发送器件地址+读命令
 1759              		.loc 1 183 0
 1760 022e 4FEA4909 		lsl	r9, r9, #1
 1761 0232 49F00109 		orr	r9, r9, #1
 1762 0236 5FFA89F9 		uxtb	r9, r9
 1763              	.LVL219:
 1764              	.LBB947:
 1765              	.LBB948:
 1766              	.LBB949:
 1767              	.LBB950:
  32:drivers/bsp_soft_i2c.c **** 	else
 1768              		.loc 1 32 0
 1769 023a 6571     		strb	r5, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1770              		.loc 1 35 0
 1771 023c A346     		mov	fp, r4
 1772 023e 2046     		mov	r0, r4
 1773 0240 FFF7FEFF 		bl	bsp_IoInit
 1774              	.LVL220:
 1775              	.LBE950:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 39


 1776              	.LBE949:
 1777              	.LBB951:
 1778              	.LBB952:
  21:drivers/bsp_soft_i2c.c **** }
 1779              		.loc 1 21 0
 1780 0244 5546     		mov	r5, r10
 1781 0246 5046     		mov	r0, r10
 1782 0248 FFF7FEFF 		bl	bsp_IoClr
 1783              	.LVL221:
 1784              	.LBE952:
 1785              	.LBE951:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 1786              		.loc 1 116 0
 1787 024c 4FF0800A 		mov	r10, #128
 1788 0250 10E0     		b	.L55
 1789              	.LVL222:
 1790              	.L56:
 1791              	.LBB953:
 1792              	.LBB954:
  13:drivers/bsp_soft_i2c.c **** }
 1793              		.loc 1 13 0
 1794 0252 5846     		mov	r0, fp
 1795 0254 FFF7FEFF 		bl	bsp_IoClr
 1796              	.LVL223:
 1797              	.L57:
 1798              	.LBE954:
 1799              	.LBE953:
 1800              	.LBB955:
 1801              	.LBB956:
  19:drivers/bsp_soft_i2c.c **** 	else
 1802              		.loc 1 19 0
 1803 0258 2846     		mov	r0, r5
 1804 025a FFF7FEFF 		bl	bsp_IoSet
 1805              	.LVL224:
 1806              	.LBE956:
 1807              	.LBE955:
 1808              	.LBB957:
 1809              	.LBB958:
   5:drivers/bsp_soft_i2c.c **** }
 1810              		.loc 1 5 0
 1811 025e 0220     		movs	r0, #2
 1812 0260 FFF7FEFF 		bl	delay_us
 1813              	.LVL225:
 1814              	.LBE958:
 1815              	.LBE957:
 1816              	.LBB959:
 1817              	.LBB960:
  21:drivers/bsp_soft_i2c.c **** }
 1818              		.loc 1 21 0
 1819 0264 2846     		mov	r0, r5
 1820 0266 FFF7FEFF 		bl	bsp_IoClr
 1821              	.LVL226:
 1822              	.LBE960:
 1823              	.LBE959:
 1824              	.LBB961:
 1825              	.LBB962:
   5:drivers/bsp_soft_i2c.c **** }
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 40


 1826              		.loc 1 5 0
 1827 026a 0220     		movs	r0, #2
 1828 026c FFF7FEFF 		bl	delay_us
 1829              	.LVL227:
 1830              	.LBE962:
 1831              	.LBE961:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 1832              		.loc 1 116 0
 1833 0270 4FEA5A0A 		lsr	r10, r10, #1
 1834              	.LVL228:
 1835              	.L55:
 1836 0274 BAF1000F 		cmp	r10, #0
 1837 0278 06D0     		beq	.L78
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 1838              		.loc 1 117 0
 1839 027a 19EA0A0F 		tst	r9, r10
 1840 027e E8D0     		beq	.L56
 1841              	.LVL229:
 1842              	.LBB963:
 1843              	.LBB964:
  11:drivers/bsp_soft_i2c.c **** 	else
 1844              		.loc 1 11 0
 1845 0280 5846     		mov	r0, fp
 1846 0282 FFF7FEFF 		bl	bsp_IoSet
 1847              	.LVL230:
 1848 0286 E7E7     		b	.L57
 1849              	.LVL231:
 1850              	.L78:
 1851              	.LBE964:
 1852              	.LBE963:
 1853              	.LBE948:
 1854              	.LBE947:
 1855              	.LBB965:
 1856              	.LBB966:
 1857              	.LBB967:
 1858              	.LBB968:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 1859              		.loc 1 34 0
 1860 0288 0323     		movs	r3, #3
 1861 028a 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1862              		.loc 1 35 0
 1863 028c 2546     		mov	r5, r4
 1864 028e 2046     		mov	r0, r4
 1865 0290 FFF7FEFF 		bl	bsp_IoInit
 1866              	.LVL232:
 1867              	.LBE968:
 1868              	.LBE967:
 1869              	.LBB969:
 1870              	.LBB970:
  11:drivers/bsp_soft_i2c.c **** 	else
 1871              		.loc 1 11 0
 1872 0294 2046     		mov	r0, r4
 1873 0296 FFF7FEFF 		bl	bsp_IoSet
 1874              	.LVL233:
 1875              	.LBE970:
 1876              	.LBE969:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 41


 1877              	.LBB971:
 1878              	.LBB972:
   5:drivers/bsp_soft_i2c.c **** }
 1879              		.loc 1 5 0
 1880 029a 0220     		movs	r0, #2
 1881 029c FFF7FEFF 		bl	delay_us
 1882              	.LVL234:
 1883              	.LBE972:
 1884              	.LBE971:
 1885              	.LBB973:
 1886              	.LBB974:
  19:drivers/bsp_soft_i2c.c **** 	else
 1887              		.loc 1 19 0
 1888 02a0 04F10809 		add	r9, r4, #8
 1889 02a4 4846     		mov	r0, r9
 1890 02a6 FFF7FEFF 		bl	bsp_IoSet
 1891              	.LVL235:
 1892              	.LBE974:
 1893              	.LBE973:
 1894              	.LBB975:
 1895              	.LBB976:
   5:drivers/bsp_soft_i2c.c **** }
 1896              		.loc 1 5 0
 1897 02aa 0220     		movs	r0, #2
 1898 02ac FFF7FEFF 		bl	delay_us
 1899              	.LVL236:
 1900              	.L59:
 1901              	.LBE976:
 1902              	.LBE975:
 1903              	.LBB977:
 1904              	.LBB978:
  26:drivers/bsp_soft_i2c.c **** }
 1905              		.loc 1 26 0
 1906 02b0 2846     		mov	r0, r5
 1907 02b2 FFF7FEFF 		bl	bsp_IoRead
 1908              	.LVL237:
 1909              	.LBE978:
 1910              	.LBE977:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 1911              		.loc 1 78 0
 1912 02b6 00B3     		cbz	r0, .L79
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 1913              		.loc 1 79 0
 1914 02b8 0AF1010A 		add	r10, r10, #1
 1915              	.LVL238:
 1916 02bc 5FFA8AFA 		uxtb	r10, r10
 1917              	.LVL239:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 1918              		.loc 1 80 0
 1919 02c0 BAF1FA0F 		cmp	r10, #250
 1920 02c4 F4D9     		bls	.L59
 1921              	.LVL240:
 1922              	.LBB979:
 1923              	.LBB980:
 1924              	.LBB981:
  32:drivers/bsp_soft_i2c.c **** 	else
 1925              		.loc 1 32 0
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 42


 1926 02c6 0823     		movs	r3, #8
 1927 02c8 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 1928              		.loc 1 35 0
 1929 02ca 2046     		mov	r0, r4
 1930 02cc FFF7FEFF 		bl	bsp_IoInit
 1931              	.LVL241:
 1932              	.LBE981:
 1933              	.LBE980:
 1934              	.LBB982:
 1935              	.LBB983:
  21:drivers/bsp_soft_i2c.c **** }
 1936              		.loc 1 21 0
 1937 02d0 04F10805 		add	r5, r4, #8
 1938 02d4 2846     		mov	r0, r5
 1939 02d6 FFF7FEFF 		bl	bsp_IoClr
 1940              	.LVL242:
 1941              	.LBE983:
 1942              	.LBE982:
 1943              	.LBB984:
 1944              	.LBB985:
  13:drivers/bsp_soft_i2c.c **** }
 1945              		.loc 1 13 0
 1946 02da 2046     		mov	r0, r4
 1947 02dc FFF7FEFF 		bl	bsp_IoClr
 1948              	.LVL243:
 1949              	.LBE985:
 1950              	.LBE984:
 1951              	.LBB986:
 1952              	.LBB987:
   5:drivers/bsp_soft_i2c.c **** }
 1953              		.loc 1 5 0
 1954 02e0 0220     		movs	r0, #2
 1955 02e2 FFF7FEFF 		bl	delay_us
 1956              	.LVL244:
 1957              	.LBE987:
 1958              	.LBE986:
 1959              	.LBB988:
 1960              	.LBB989:
  11:drivers/bsp_soft_i2c.c **** 	else
 1961              		.loc 1 11 0
 1962 02e6 2046     		mov	r0, r4
 1963 02e8 FFF7FEFF 		bl	bsp_IoSet
 1964              	.LVL245:
 1965              	.LBE989:
 1966              	.LBE988:
 1967              	.LBB990:
 1968              	.LBB991:
  19:drivers/bsp_soft_i2c.c **** 	else
 1969              		.loc 1 19 0
 1970 02ec 2846     		mov	r0, r5
 1971 02ee FFF7FEFF 		bl	bsp_IoSet
 1972              	.LVL246:
 1973              	.LBE991:
 1974              	.LBE990:
 1975              	.LBB992:
 1976              	.LBB993:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 43


   5:drivers/bsp_soft_i2c.c **** }
 1977              		.loc 1 5 0
 1978 02f2 0220     		movs	r0, #2
 1979 02f4 FFF7FEFF 		bl	delay_us
 1980              	.LVL247:
 1981 02f8 85E0     		b	.L62
 1982              	.LVL248:
 1983              	.L79:
 1984              	.LBE993:
 1985              	.LBE992:
 1986              	.LBE979:
 1987              	.LBB994:
 1988              	.LBB995:
  21:drivers/bsp_soft_i2c.c **** }
 1989              		.loc 1 21 0
 1990 02fa 4846     		mov	r0, r9
 1991 02fc FFF7FEFF 		bl	bsp_IoClr
 1992              	.LVL249:
 1993 0300 81E0     		b	.L62
 1994              	.LVL250:
 1995              	.L83:
 1996              	.LBE995:
 1997              	.LBE994:
 1998              	.LBE966:
 1999              	.LBE965:
 2000              	.LBB996:
 2001              	.LBB997:
 2002              	.LBB998:
 2003              	.LBB999:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 2004              		.loc 1 34 0
 2005 0302 0323     		movs	r3, #3
 2006 0304 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2007              		.loc 1 35 0
 2008 0306 A346     		mov	fp, r4
 2009 0308 2046     		mov	r0, r4
 2010 030a FFF7FEFF 		bl	bsp_IoInit
 2011              	.LVL251:
 2012              	.LBE999:
 2013              	.LBE998:
 130:drivers/bsp_soft_i2c.c **** 	SwitchDir(i2c, 0);//SDA设置为输入
 2014              		.loc 1 130 0
 2015 030e 3D46     		mov	r5, r7
 132:drivers/bsp_soft_i2c.c **** 		SCL_Switch(i2c, 0);
 2016              		.loc 1 132 0
 2017 0310 B946     		mov	r9, r7
 2018 0312 06E0     		b	.L64
 2019              	.LVL252:
 2020              	.L65:
 2021              	.LBB1000:
 2022              	.LBB1001:
   5:drivers/bsp_soft_i2c.c **** }
 2023              		.loc 1 5 0
 2024 0314 0220     		movs	r0, #2
 2025 0316 FFF7FEFF 		bl	delay_us
 2026              	.LVL253:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 44


 2027              	.LBE1001:
 2028              	.LBE1000:
 132:drivers/bsp_soft_i2c.c **** 		SCL_Switch(i2c, 0);
 2029              		.loc 1 132 0
 2030 031a 09F10109 		add	r9, r9, #1
 2031              	.LVL254:
 2032 031e 5FFA89F9 		uxtb	r9, r9
 2033              	.LVL255:
 2034              	.L64:
 2035 0322 B9F1070F 		cmp	r9, #7
 2036 0326 14D8     		bhi	.L80
 2037              	.LVL256:
 2038              	.LBB1002:
 2039              	.LBB1003:
  21:drivers/bsp_soft_i2c.c **** }
 2040              		.loc 1 21 0
 2041 0328 04F1080A 		add	r10, r4, #8
 2042 032c 5046     		mov	r0, r10
 2043 032e FFF7FEFF 		bl	bsp_IoClr
 2044              	.LVL257:
 2045              	.LBE1003:
 2046              	.LBE1002:
 2047              	.LBB1004:
 2048              	.LBB1005:
   5:drivers/bsp_soft_i2c.c **** }
 2049              		.loc 1 5 0
 2050 0332 0220     		movs	r0, #2
 2051 0334 FFF7FEFF 		bl	delay_us
 2052              	.LVL258:
 2053              	.LBE1005:
 2054              	.LBE1004:
 2055              	.LBB1006:
 2056              	.LBB1007:
  19:drivers/bsp_soft_i2c.c **** 	else
 2057              		.loc 1 19 0
 2058 0338 5046     		mov	r0, r10
 2059 033a FFF7FEFF 		bl	bsp_IoSet
 2060              	.LVL259:
 2061              	.LBE1007:
 2062              	.LBE1006:
 136:drivers/bsp_soft_i2c.c **** 		if (bsp_IoRead(&i2c->sda))receive++;
 2063              		.loc 1 136 0
 2064 033e 6D00     		lsls	r5, r5, #1
 2065              	.LVL260:
 2066 0340 EDB2     		uxtb	r5, r5
 2067              	.LVL261:
 137:drivers/bsp_soft_i2c.c **** 		i2c_delay_us(2);
 2068              		.loc 1 137 0
 2069 0342 5846     		mov	r0, fp
 2070 0344 FFF7FEFF 		bl	bsp_IoRead
 2071              	.LVL262:
 2072 0348 0028     		cmp	r0, #0
 2073 034a E3D0     		beq	.L65
 2074 034c 0135     		adds	r5, r5, #1
 2075              	.LVL263:
 2076 034e EDB2     		uxtb	r5, r5
 2077              	.LVL264:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 45


 2078 0350 E0E7     		b	.L65
 2079              	.L80:
 2080              	.LVL265:
 2081              	.LBB1008:
 2082              	.LBB1009:
 2083              	.LBB1010:
  21:drivers/bsp_soft_i2c.c **** }
 2084              		.loc 1 21 0
 2085 0352 04F10809 		add	r9, r4, #8
 2086              	.LVL266:
 2087 0356 4846     		mov	r0, r9
 2088 0358 FFF7FEFF 		bl	bsp_IoClr
 2089              	.LVL267:
 2090              	.LBE1010:
 2091              	.LBE1009:
 2092              	.LBB1011:
 2093              	.LBB1012:
  32:drivers/bsp_soft_i2c.c **** 	else
 2094              		.loc 1 32 0
 2095 035c 0823     		movs	r3, #8
 2096 035e 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2097              		.loc 1 35 0
 2098 0360 2046     		mov	r0, r4
 2099 0362 FFF7FEFF 		bl	bsp_IoInit
 2100              	.LVL268:
 2101              	.LBE1012:
 2102              	.LBE1011:
 2103              	.LBB1013:
 2104              	.LBB1014:
  13:drivers/bsp_soft_i2c.c **** }
 2105              		.loc 1 13 0
 2106 0366 2046     		mov	r0, r4
 2107 0368 FFF7FEFF 		bl	bsp_IoClr
 2108              	.LVL269:
 2109              	.LBE1014:
 2110              	.LBE1013:
 2111              	.LBB1015:
 2112              	.LBB1016:
   5:drivers/bsp_soft_i2c.c **** }
 2113              		.loc 1 5 0
 2114 036c 0220     		movs	r0, #2
 2115 036e FFF7FEFF 		bl	delay_us
 2116              	.LVL270:
 2117              	.LBE1016:
 2118              	.LBE1015:
 2119              	.LBB1017:
 2120              	.LBB1018:
  19:drivers/bsp_soft_i2c.c **** 	else
 2121              		.loc 1 19 0
 2122 0372 4846     		mov	r0, r9
 2123 0374 FFF7FEFF 		bl	bsp_IoSet
 2124              	.LVL271:
 2125              	.LBE1018:
 2126              	.LBE1017:
 2127              	.LBB1019:
 2128              	.LBB1020:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 46


   5:drivers/bsp_soft_i2c.c **** }
 2129              		.loc 1 5 0
 2130 0378 0220     		movs	r0, #2
 2131 037a FFF7FEFF 		bl	delay_us
 2132              	.LVL272:
 2133              	.LBE1020:
 2134              	.LBE1019:
 2135              	.LBB1021:
 2136              	.LBB1022:
  21:drivers/bsp_soft_i2c.c **** }
 2137              		.loc 1 21 0
 2138 037e 4846     		mov	r0, r9
 2139 0380 FFF7FEFF 		bl	bsp_IoClr
 2140              	.LVL273:
 2141              	.LBE1022:
 2142              	.LBE1021:
 2143              	.LBE1008:
 2144              	.LBE997:
 2145              	.LBE996:
 184:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CWaitAck(i2c);        //等待应答
 185:drivers/bsp_soft_i2c.c **** 	while (len) {
 186:drivers/bsp_soft_i2c.c **** 		if (len == 1)*dat = bsp_SoftI2CReadByte(i2c, 0);//读数据,发送nACK
 2146              		.loc 1 186 0
 2147 0384 88F80050 		strb	r5, [r8]
 2148 0388 39E0     		b	.L67
 2149              	.LVL274:
 2150              	.L69:
 2151              	.LBB1023:
 2152              	.LBB1024:
 2153              	.LBB1025:
 2154              	.LBB1026:
   5:drivers/bsp_soft_i2c.c **** }
 2155              		.loc 1 5 0
 2156 038a 0220     		movs	r0, #2
 2157 038c FFF7FEFF 		bl	delay_us
 2158              	.LVL275:
 2159              	.LBE1026:
 2160              	.LBE1025:
 132:drivers/bsp_soft_i2c.c **** 		SCL_Switch(i2c, 0);
 2161              		.loc 1 132 0
 2162 0390 09F10109 		add	r9, r9, #1
 2163              	.LVL276:
 2164 0394 5FFA89F9 		uxtb	r9, r9
 2165              	.LVL277:
 2166              	.L68:
 2167 0398 B9F1070F 		cmp	r9, #7
 2168 039c 14D8     		bhi	.L81
 2169              	.LVL278:
 2170              	.LBB1027:
 2171              	.LBB1028:
  21:drivers/bsp_soft_i2c.c **** }
 2172              		.loc 1 21 0
 2173 039e 04F1080A 		add	r10, r4, #8
 2174 03a2 5046     		mov	r0, r10
 2175 03a4 FFF7FEFF 		bl	bsp_IoClr
 2176              	.LVL279:
 2177              	.LBE1028:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 47


 2178              	.LBE1027:
 2179              	.LBB1029:
 2180              	.LBB1030:
   5:drivers/bsp_soft_i2c.c **** }
 2181              		.loc 1 5 0
 2182 03a8 0220     		movs	r0, #2
 2183 03aa FFF7FEFF 		bl	delay_us
 2184              	.LVL280:
 2185              	.LBE1030:
 2186              	.LBE1029:
 2187              	.LBB1031:
 2188              	.LBB1032:
  19:drivers/bsp_soft_i2c.c **** 	else
 2189              		.loc 1 19 0
 2190 03ae 5046     		mov	r0, r10
 2191 03b0 FFF7FEFF 		bl	bsp_IoSet
 2192              	.LVL281:
 2193              	.LBE1032:
 2194              	.LBE1031:
 136:drivers/bsp_soft_i2c.c **** 		if (bsp_IoRead(&i2c->sda))receive++;
 2195              		.loc 1 136 0
 2196 03b4 6D00     		lsls	r5, r5, #1
 2197              	.LVL282:
 2198 03b6 EDB2     		uxtb	r5, r5
 2199              	.LVL283:
 137:drivers/bsp_soft_i2c.c **** 		i2c_delay_us(2);
 2200              		.loc 1 137 0
 2201 03b8 5846     		mov	r0, fp
 2202 03ba FFF7FEFF 		bl	bsp_IoRead
 2203              	.LVL284:
 2204 03be 0028     		cmp	r0, #0
 2205 03c0 E3D0     		beq	.L69
 2206 03c2 0135     		adds	r5, r5, #1
 2207              	.LVL285:
 2208 03c4 EDB2     		uxtb	r5, r5
 2209              	.LVL286:
 2210 03c6 E0E7     		b	.L69
 2211              	.L81:
 2212              	.LVL287:
 2213              	.LBB1033:
 2214              	.LBB1034:
 2215              	.LBB1035:
  21:drivers/bsp_soft_i2c.c **** }
 2216              		.loc 1 21 0
 2217 03c8 04F10809 		add	r9, r4, #8
 2218              	.LVL288:
 2219 03cc 4846     		mov	r0, r9
 2220 03ce FFF7FEFF 		bl	bsp_IoClr
 2221              	.LVL289:
 2222              	.LBE1035:
 2223              	.LBE1034:
 2224              	.LBB1036:
 2225              	.LBB1037:
  32:drivers/bsp_soft_i2c.c **** 	else
 2226              		.loc 1 32 0
 2227 03d2 0823     		movs	r3, #8
 2228 03d4 6371     		strb	r3, [r4, #5]
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 48


  35:drivers/bsp_soft_i2c.c **** }
 2229              		.loc 1 35 0
 2230 03d6 2046     		mov	r0, r4
 2231 03d8 FFF7FEFF 		bl	bsp_IoInit
 2232              	.LVL290:
 2233              	.LBE1037:
 2234              	.LBE1036:
 2235              	.LBB1038:
 2236              	.LBB1039:
  11:drivers/bsp_soft_i2c.c **** 	else
 2237              		.loc 1 11 0
 2238 03dc 2046     		mov	r0, r4
 2239 03de FFF7FEFF 		bl	bsp_IoSet
 2240              	.LVL291:
 2241              	.LBE1039:
 2242              	.LBE1038:
 2243              	.LBB1040:
 2244              	.LBB1041:
   5:drivers/bsp_soft_i2c.c **** }
 2245              		.loc 1 5 0
 2246 03e2 0220     		movs	r0, #2
 2247 03e4 FFF7FEFF 		bl	delay_us
 2248              	.LVL292:
 2249              	.LBE1041:
 2250              	.LBE1040:
 2251              	.LBB1042:
 2252              	.LBB1043:
  19:drivers/bsp_soft_i2c.c **** 	else
 2253              		.loc 1 19 0
 2254 03e8 4846     		mov	r0, r9
 2255 03ea FFF7FEFF 		bl	bsp_IoSet
 2256              	.LVL293:
 2257              	.LBE1043:
 2258              	.LBE1042:
 2259              	.LBB1044:
 2260              	.LBB1045:
   5:drivers/bsp_soft_i2c.c **** }
 2261              		.loc 1 5 0
 2262 03ee 0220     		movs	r0, #2
 2263 03f0 FFF7FEFF 		bl	delay_us
 2264              	.LVL294:
 2265              	.LBE1045:
 2266              	.LBE1044:
 2267              	.LBB1046:
 2268              	.LBB1047:
  21:drivers/bsp_soft_i2c.c **** }
 2269              		.loc 1 21 0
 2270 03f4 4846     		mov	r0, r9
 2271 03f6 FFF7FEFF 		bl	bsp_IoClr
 2272              	.LVL295:
 2273              	.LBE1047:
 2274              	.LBE1046:
 2275              	.LBE1033:
 2276              	.LBE1024:
 2277              	.LBE1023:
 187:drivers/bsp_soft_i2c.c **** 		else *dat = bsp_SoftI2CReadByte(i2c, 1);        //读数据,发送ACK
 2278              		.loc 1 187 0
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 49


 2279 03fa 88F80050 		strb	r5, [r8]
 2280              	.L67:
 188:drivers/bsp_soft_i2c.c **** 		len--;
 2281              		.loc 1 188 0
 2282 03fe 013E     		subs	r6, r6, #1
 2283              	.LVL296:
 2284 0400 B6B2     		uxth	r6, r6
 2285              	.LVL297:
 189:drivers/bsp_soft_i2c.c **** 		dat++;
 2286              		.loc 1 189 0
 2287 0402 08F10108 		add	r8, r8, #1
 2288              	.LVL298:
 2289              	.L62:
 185:drivers/bsp_soft_i2c.c **** 		if (len == 1)*dat = bsp_SoftI2CReadByte(i2c, 0);//读数据,发送nACK
 2290              		.loc 1 185 0
 2291 0406 5EB1     		cbz	r6, .L82
 186:drivers/bsp_soft_i2c.c **** 		else *dat = bsp_SoftI2CReadByte(i2c, 1);        //读数据,发送ACK
 2292              		.loc 1 186 0
 2293 0408 012E     		cmp	r6, #1
 2294 040a 3FF47AAF 		beq	.L83
 2295              	.LVL299:
 2296              	.LBB1051:
 2297              	.LBB1050:
 2298              	.LBB1048:
 2299              	.LBB1049:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 2300              		.loc 1 34 0
 2301 040e 0323     		movs	r3, #3
 2302 0410 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2303              		.loc 1 35 0
 2304 0412 A346     		mov	fp, r4
 2305 0414 2046     		mov	r0, r4
 2306 0416 FFF7FEFF 		bl	bsp_IoInit
 2307              	.LVL300:
 2308              	.LBE1049:
 2309              	.LBE1048:
 130:drivers/bsp_soft_i2c.c **** 	SwitchDir(i2c, 0);//SDA设置为输入
 2310              		.loc 1 130 0
 2311 041a 3D46     		mov	r5, r7
 132:drivers/bsp_soft_i2c.c **** 		SCL_Switch(i2c, 0);
 2312              		.loc 1 132 0
 2313 041c B946     		mov	r9, r7
 2314 041e BBE7     		b	.L68
 2315              	.LVL301:
 2316              	.L82:
 2317              	.LBE1050:
 2318              	.LBE1051:
 2319              	.LBB1052:
 2320              	.LBB1053:
 2321              	.LBB1054:
  32:drivers/bsp_soft_i2c.c **** 	else
 2322              		.loc 1 32 0
 2323 0420 0823     		movs	r3, #8
 2324 0422 6371     		strb	r3, [r4, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2325              		.loc 1 35 0
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 50


 2326 0424 2046     		mov	r0, r4
 2327 0426 FFF7FEFF 		bl	bsp_IoInit
 2328              	.LVL302:
 2329              	.LBE1054:
 2330              	.LBE1053:
 2331              	.LBB1055:
 2332              	.LBB1056:
  21:drivers/bsp_soft_i2c.c **** }
 2333              		.loc 1 21 0
 2334 042a 04F10805 		add	r5, r4, #8
 2335 042e 2846     		mov	r0, r5
 2336 0430 FFF7FEFF 		bl	bsp_IoClr
 2337              	.LVL303:
 2338              	.LBE1056:
 2339              	.LBE1055:
 2340              	.LBB1057:
 2341              	.LBB1058:
  13:drivers/bsp_soft_i2c.c **** }
 2342              		.loc 1 13 0
 2343 0434 2046     		mov	r0, r4
 2344 0436 FFF7FEFF 		bl	bsp_IoClr
 2345              	.LVL304:
 2346              	.LBE1058:
 2347              	.LBE1057:
 2348              	.LBB1059:
 2349              	.LBB1060:
   5:drivers/bsp_soft_i2c.c **** }
 2350              		.loc 1 5 0
 2351 043a 0220     		movs	r0, #2
 2352 043c FFF7FEFF 		bl	delay_us
 2353              	.LVL305:
 2354              	.LBE1060:
 2355              	.LBE1059:
 2356              	.LBB1061:
 2357              	.LBB1062:
  11:drivers/bsp_soft_i2c.c **** 	else
 2358              		.loc 1 11 0
 2359 0440 2046     		mov	r0, r4
 2360 0442 FFF7FEFF 		bl	bsp_IoSet
 2361              	.LVL306:
 2362              	.LBE1062:
 2363              	.LBE1061:
 2364              	.LBB1063:
 2365              	.LBB1064:
  19:drivers/bsp_soft_i2c.c **** 	else
 2366              		.loc 1 19 0
 2367 0446 2846     		mov	r0, r5
 2368 0448 FFF7FEFF 		bl	bsp_IoSet
 2369              	.LVL307:
 2370              	.LBE1064:
 2371              	.LBE1063:
 2372              	.LBB1065:
 2373              	.LBB1066:
   5:drivers/bsp_soft_i2c.c **** }
 2374              		.loc 1 5 0
 2375 044c 0220     		movs	r0, #2
 2376 044e FFF7FEFF 		bl	delay_us
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 51


 2377              	.LVL308:
 2378              	.LBE1066:
 2379              	.LBE1065:
 2380              	.LBE1052:
 190:drivers/bsp_soft_i2c.c **** 	}
 191:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CStop(i2c);    //产生一个停止条件
 192:drivers/bsp_soft_i2c.c **** 	return 0;
 2381              		.loc 1 192 0
 2382 0452 0020     		movs	r0, #0
 2383              	.LVL309:
 2384              	.L47:
 193:drivers/bsp_soft_i2c.c **** }
 2385              		.loc 1 193 0
 2386 0454 03B0     		add	sp, sp, #12
 2387              	.LCFI4:
 2388              		.cfi_def_cfa_offset 36
 2389              		@ sp needed
 2390 0456 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2391              		.cfi_endproc
 2392              	.LFE80:
 2394              		.section	.text.bsp_SoftI2CWriteReg,"ax",%progbits
 2395              		.align	1
 2396              		.global	bsp_SoftI2CWriteReg
 2397              		.syntax unified
 2398              		.thumb
 2399              		.thumb_func
 2400              		.fpu softvfp
 2402              	bsp_SoftI2CWriteReg:
 2403              	.LFB81:
 194:drivers/bsp_soft_i2c.c **** 
 195:drivers/bsp_soft_i2c.c **** s16 bsp_SoftI2CWriteReg(_I2C *i2c, u8 addr, u8 reg, u8 dat)
 196:drivers/bsp_soft_i2c.c **** {
 2404              		.loc 1 196 0
 2405              		.cfi_startproc
 2406              		@ args = 0, pretend = 0, frame = 0
 2407              		@ frame_needed = 0, uses_anonymous_args = 0
 2408              	.LVL310:
 2409 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2410              	.LCFI5:
 2411              		.cfi_def_cfa_offset 32
 2412              		.cfi_offset 4, -32
 2413              		.cfi_offset 5, -28
 2414              		.cfi_offset 6, -24
 2415              		.cfi_offset 7, -20
 2416              		.cfi_offset 8, -16
 2417              		.cfi_offset 9, -12
 2418              		.cfi_offset 10, -8
 2419              		.cfi_offset 14, -4
 2420 0004 0546     		mov	r5, r0
 2421 0006 8946     		mov	r9, r1
 2422 0008 9046     		mov	r8, r2
 2423 000a 1F46     		mov	r7, r3
 2424              	.LVL311:
 2425              	.LBB1281:
 2426              	.LBB1282:
 2427              	.LBB1283:
  32:drivers/bsp_soft_i2c.c **** 	else
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 52


 2428              		.loc 1 32 0
 2429 000c 0826     		movs	r6, #8
 2430 000e 4671     		strb	r6, [r0, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2431              		.loc 1 35 0
 2432 0010 FFF7FEFF 		bl	bsp_IoInit
 2433              	.LVL312:
 2434              	.LBE1283:
 2435              	.LBE1282:
 2436              	.LBB1284:
 2437              	.LBB1285:
  11:drivers/bsp_soft_i2c.c **** 	else
 2438              		.loc 1 11 0
 2439 0014 2846     		mov	r0, r5
 2440 0016 FFF7FEFF 		bl	bsp_IoSet
 2441              	.LVL313:
 2442              	.LBE1285:
 2443              	.LBE1284:
 2444              	.LBB1286:
 2445              	.LBB1287:
  19:drivers/bsp_soft_i2c.c **** 	else
 2446              		.loc 1 19 0
 2447 001a AC19     		adds	r4, r5, r6
 2448 001c 2046     		mov	r0, r4
 2449 001e FFF7FEFF 		bl	bsp_IoSet
 2450              	.LVL314:
 2451              	.LBE1287:
 2452              	.LBE1286:
 2453              	.LBB1288:
 2454              	.LBB1289:
   5:drivers/bsp_soft_i2c.c **** }
 2455              		.loc 1 5 0
 2456 0022 0220     		movs	r0, #2
 2457 0024 FFF7FEFF 		bl	delay_us
 2458              	.LVL315:
 2459              	.LBE1289:
 2460              	.LBE1288:
 2461              	.LBB1290:
 2462              	.LBB1291:
  13:drivers/bsp_soft_i2c.c **** }
 2463              		.loc 1 13 0
 2464 0028 2846     		mov	r0, r5
 2465 002a FFF7FEFF 		bl	bsp_IoClr
 2466              	.LVL316:
 2467              	.LBE1291:
 2468              	.LBE1290:
 2469              	.LBB1292:
 2470              	.LBB1293:
   5:drivers/bsp_soft_i2c.c **** }
 2471              		.loc 1 5 0
 2472 002e 0220     		movs	r0, #2
 2473 0030 FFF7FEFF 		bl	delay_us
 2474              	.LVL317:
 2475              	.LBE1293:
 2476              	.LBE1292:
 2477              	.LBB1294:
 2478              	.LBB1295:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 53


  21:drivers/bsp_soft_i2c.c **** }
 2479              		.loc 1 21 0
 2480 0034 2046     		mov	r0, r4
 2481 0036 FFF7FEFF 		bl	bsp_IoClr
 2482              	.LVL318:
 2483              	.LBE1295:
 2484              	.LBE1294:
 2485              	.LBE1281:
 197:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CStart(i2c);
 198:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CSendByte(i2c, (addr << 1) | 0);//发送器件地址+写命令
 2486              		.loc 1 198 0
 2487 003a 4FEA4909 		lsl	r9, r9, #1
 2488 003e 5FFA89F9 		uxtb	r9, r9
 2489              	.LVL319:
 2490              	.LBB1296:
 2491              	.LBB1297:
 2492              	.LBB1298:
 2493              	.LBB1299:
  32:drivers/bsp_soft_i2c.c **** 	else
 2494              		.loc 1 32 0
 2495 0042 6E71     		strb	r6, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2496              		.loc 1 35 0
 2497 0044 AA46     		mov	r10, r5
 2498 0046 2846     		mov	r0, r5
 2499 0048 FFF7FEFF 		bl	bsp_IoInit
 2500              	.LVL320:
 2501              	.LBE1299:
 2502              	.LBE1298:
 2503              	.LBB1300:
 2504              	.LBB1301:
  21:drivers/bsp_soft_i2c.c **** }
 2505              		.loc 1 21 0
 2506 004c 2646     		mov	r6, r4
 2507 004e 2046     		mov	r0, r4
 2508 0050 FFF7FEFF 		bl	bsp_IoClr
 2509              	.LVL321:
 2510              	.LBE1301:
 2511              	.LBE1300:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 2512              		.loc 1 116 0
 2513 0054 8024     		movs	r4, #128
 2514 0056 0FE0     		b	.L85
 2515              	.LVL322:
 2516              	.L86:
 2517              	.LBB1302:
 2518              	.LBB1303:
  13:drivers/bsp_soft_i2c.c **** }
 2519              		.loc 1 13 0
 2520 0058 5046     		mov	r0, r10
 2521 005a FFF7FEFF 		bl	bsp_IoClr
 2522              	.LVL323:
 2523              	.L87:
 2524              	.LBE1303:
 2525              	.LBE1302:
 2526              	.LBB1304:
 2527              	.LBB1305:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 54


  19:drivers/bsp_soft_i2c.c **** 	else
 2528              		.loc 1 19 0
 2529 005e 3046     		mov	r0, r6
 2530 0060 FFF7FEFF 		bl	bsp_IoSet
 2531              	.LVL324:
 2532              	.LBE1305:
 2533              	.LBE1304:
 2534              	.LBB1306:
 2535              	.LBB1307:
   5:drivers/bsp_soft_i2c.c **** }
 2536              		.loc 1 5 0
 2537 0064 0220     		movs	r0, #2
 2538 0066 FFF7FEFF 		bl	delay_us
 2539              	.LVL325:
 2540              	.LBE1307:
 2541              	.LBE1306:
 2542              	.LBB1308:
 2543              	.LBB1309:
  21:drivers/bsp_soft_i2c.c **** }
 2544              		.loc 1 21 0
 2545 006a 3046     		mov	r0, r6
 2546 006c FFF7FEFF 		bl	bsp_IoClr
 2547              	.LVL326:
 2548              	.LBE1309:
 2549              	.LBE1308:
 2550              	.LBB1310:
 2551              	.LBB1311:
   5:drivers/bsp_soft_i2c.c **** }
 2552              		.loc 1 5 0
 2553 0070 0220     		movs	r0, #2
 2554 0072 FFF7FEFF 		bl	delay_us
 2555              	.LVL327:
 2556              	.LBE1311:
 2557              	.LBE1310:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 2558              		.loc 1 116 0
 2559 0076 6408     		lsrs	r4, r4, #1
 2560              	.LVL328:
 2561              	.L85:
 2562 0078 34B1     		cbz	r4, .L110
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 2563              		.loc 1 117 0
 2564 007a 19EA040F 		tst	r9, r4
 2565 007e EBD0     		beq	.L86
 2566              	.LVL329:
 2567              	.LBB1312:
 2568              	.LBB1313:
  11:drivers/bsp_soft_i2c.c **** 	else
 2569              		.loc 1 11 0
 2570 0080 5046     		mov	r0, r10
 2571 0082 FFF7FEFF 		bl	bsp_IoSet
 2572              	.LVL330:
 2573 0086 EAE7     		b	.L87
 2574              	.LVL331:
 2575              	.L110:
 2576              	.LBE1313:
 2577              	.LBE1312:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 55


 2578              	.LBE1297:
 2579              	.LBE1296:
 2580              	.LBB1314:
 2581              	.LBB1315:
 2582              	.LBB1316:
 2583              	.LBB1317:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 2584              		.loc 1 34 0
 2585 0088 0323     		movs	r3, #3
 2586 008a 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2587              		.loc 1 35 0
 2588 008c A946     		mov	r9, r5
 2589 008e 2846     		mov	r0, r5
 2590 0090 FFF7FEFF 		bl	bsp_IoInit
 2591              	.LVL332:
 2592              	.LBE1317:
 2593              	.LBE1316:
 2594              	.LBB1318:
 2595              	.LBB1319:
  11:drivers/bsp_soft_i2c.c **** 	else
 2596              		.loc 1 11 0
 2597 0094 2846     		mov	r0, r5
 2598 0096 FFF7FEFF 		bl	bsp_IoSet
 2599              	.LVL333:
 2600              	.LBE1319:
 2601              	.LBE1318:
 2602              	.LBB1320:
 2603              	.LBB1321:
   5:drivers/bsp_soft_i2c.c **** }
 2604              		.loc 1 5 0
 2605 009a 0220     		movs	r0, #2
 2606 009c FFF7FEFF 		bl	delay_us
 2607              	.LVL334:
 2608              	.LBE1321:
 2609              	.LBE1320:
 2610              	.LBB1322:
 2611              	.LBB1323:
  19:drivers/bsp_soft_i2c.c **** 	else
 2612              		.loc 1 19 0
 2613 00a0 05F1080A 		add	r10, r5, #8
 2614 00a4 5046     		mov	r0, r10
 2615 00a6 FFF7FEFF 		bl	bsp_IoSet
 2616              	.LVL335:
 2617              	.LBE1323:
 2618              	.LBE1322:
 2619              	.LBB1324:
 2620              	.LBB1325:
   5:drivers/bsp_soft_i2c.c **** }
 2621              		.loc 1 5 0
 2622 00aa 0220     		movs	r0, #2
 2623 00ac FFF7FEFF 		bl	delay_us
 2624              	.LVL336:
 2625              	.L89:
 2626              	.LBE1325:
 2627              	.LBE1324:
 2628              	.LBB1326:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 56


 2629              	.LBB1327:
  26:drivers/bsp_soft_i2c.c **** }
 2630              		.loc 1 26 0
 2631 00b0 4846     		mov	r0, r9
 2632 00b2 FFF7FEFF 		bl	bsp_IoRead
 2633              	.LVL337:
 2634              	.LBE1327:
 2635              	.LBE1326:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 2636              		.loc 1 78 0
 2637 00b6 0646     		mov	r6, r0
 2638 00b8 F0B1     		cbz	r0, .L111
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 2639              		.loc 1 79 0
 2640 00ba 0134     		adds	r4, r4, #1
 2641              	.LVL338:
 2642 00bc E4B2     		uxtb	r4, r4
 2643              	.LVL339:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 2644              		.loc 1 80 0
 2645 00be FA2C     		cmp	r4, #250
 2646 00c0 F6D9     		bls	.L89
 2647              	.LVL340:
 2648              	.LBB1328:
 2649              	.LBB1329:
 2650              	.LBB1330:
  32:drivers/bsp_soft_i2c.c **** 	else
 2651              		.loc 1 32 0
 2652 00c2 0823     		movs	r3, #8
 2653 00c4 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2654              		.loc 1 35 0
 2655 00c6 2846     		mov	r0, r5
 2656 00c8 FFF7FEFF 		bl	bsp_IoInit
 2657              	.LVL341:
 2658              	.LBE1330:
 2659              	.LBE1329:
 2660              	.LBB1331:
 2661              	.LBB1332:
  21:drivers/bsp_soft_i2c.c **** }
 2662              		.loc 1 21 0
 2663 00cc 05F10804 		add	r4, r5, #8
 2664              	.LVL342:
 2665 00d0 2046     		mov	r0, r4
 2666 00d2 FFF7FEFF 		bl	bsp_IoClr
 2667              	.LVL343:
 2668              	.LBE1332:
 2669              	.LBE1331:
 2670              	.LBB1333:
 2671              	.LBB1334:
  13:drivers/bsp_soft_i2c.c **** }
 2672              		.loc 1 13 0
 2673 00d6 2846     		mov	r0, r5
 2674 00d8 FFF7FEFF 		bl	bsp_IoClr
 2675              	.LVL344:
 2676              	.LBE1334:
 2677              	.LBE1333:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 57


 2678              	.LBB1335:
 2679              	.LBB1336:
   5:drivers/bsp_soft_i2c.c **** }
 2680              		.loc 1 5 0
 2681 00dc 0220     		movs	r0, #2
 2682 00de FFF7FEFF 		bl	delay_us
 2683              	.LVL345:
 2684              	.LBE1336:
 2685              	.LBE1335:
 2686              	.LBB1337:
 2687              	.LBB1338:
  11:drivers/bsp_soft_i2c.c **** 	else
 2688              		.loc 1 11 0
 2689 00e2 2846     		mov	r0, r5
 2690 00e4 FFF7FEFF 		bl	bsp_IoSet
 2691              	.LVL346:
 2692              	.LBE1338:
 2693              	.LBE1337:
 2694              	.LBB1339:
 2695              	.LBB1340:
  19:drivers/bsp_soft_i2c.c **** 	else
 2696              		.loc 1 19 0
 2697 00e8 2046     		mov	r0, r4
 2698 00ea FFF7FEFF 		bl	bsp_IoSet
 2699              	.LVL347:
 2700              	.LBE1340:
 2701              	.LBE1339:
 2702              	.LBB1341:
 2703              	.LBB1342:
   5:drivers/bsp_soft_i2c.c **** }
 2704              		.loc 1 5 0
 2705 00ee 0220     		movs	r0, #2
 2706 00f0 FFF7FEFF 		bl	delay_us
 2707              	.LVL348:
 2708              	.LBE1342:
 2709              	.LBE1341:
 2710              	.LBE1328:
  82:drivers/bsp_soft_i2c.c **** 		}
 2711              		.loc 1 82 0
 2712 00f4 0126     		movs	r6, #1
 2713 00f6 02E0     		b	.L90
 2714              	.LVL349:
 2715              	.L111:
 2716              	.LBB1343:
 2717              	.LBB1344:
  21:drivers/bsp_soft_i2c.c **** }
 2718              		.loc 1 21 0
 2719 00f8 5046     		mov	r0, r10
 2720 00fa FFF7FEFF 		bl	bsp_IoClr
 2721              	.LVL350:
 2722              	.L90:
 2723              	.LBE1344:
 2724              	.LBE1343:
 2725              	.LBE1315:
 2726              	.LBE1314:
 199:drivers/bsp_soft_i2c.c **** 	if (bsp_SoftI2CWaitAck(i2c))    //等待应答
 2727              		.loc 1 199 0
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 58


 2728 00fe 66B9     		cbnz	r6, .L112
 2729              	.LVL351:
 2730              	.LBB1345:
 2731              	.LBB1346:
 2732              	.LBB1347:
 2733              	.LBB1348:
  32:drivers/bsp_soft_i2c.c **** 	else
 2734              		.loc 1 32 0
 2735 0100 0823     		movs	r3, #8
 2736 0102 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2737              		.loc 1 35 0
 2738 0104 A946     		mov	r9, r5
 2739 0106 2846     		mov	r0, r5
 2740 0108 FFF7FEFF 		bl	bsp_IoInit
 2741              	.LVL352:
 2742              	.LBE1348:
 2743              	.LBE1347:
 2744              	.LBB1349:
 2745              	.LBB1350:
  21:drivers/bsp_soft_i2c.c **** }
 2746              		.loc 1 21 0
 2747 010c 05F10806 		add	r6, r5, #8
 2748 0110 3046     		mov	r0, r6
 2749 0112 FFF7FEFF 		bl	bsp_IoClr
 2750              	.LVL353:
 2751              	.LBE1350:
 2752              	.LBE1349:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 2753              		.loc 1 116 0
 2754 0116 8024     		movs	r4, #128
 2755 0118 2BE0     		b	.L94
 2756              	.LVL354:
 2757              	.L112:
 2758              	.LBE1346:
 2759              	.LBE1345:
 2760              	.LBB1364:
 2761              	.LBB1365:
 2762              	.LBB1366:
  32:drivers/bsp_soft_i2c.c **** 	else
 2763              		.loc 1 32 0
 2764 011a 0823     		movs	r3, #8
 2765 011c 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2766              		.loc 1 35 0
 2767 011e 2846     		mov	r0, r5
 2768 0120 FFF7FEFF 		bl	bsp_IoInit
 2769              	.LVL355:
 2770              	.LBE1366:
 2771              	.LBE1365:
 2772              	.LBB1367:
 2773              	.LBB1368:
  21:drivers/bsp_soft_i2c.c **** }
 2774              		.loc 1 21 0
 2775 0124 05F10804 		add	r4, r5, #8
 2776 0128 2046     		mov	r0, r4
 2777 012a FFF7FEFF 		bl	bsp_IoClr
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 59


 2778              	.LVL356:
 2779              	.LBE1368:
 2780              	.LBE1367:
 2781              	.LBB1369:
 2782              	.LBB1370:
  13:drivers/bsp_soft_i2c.c **** }
 2783              		.loc 1 13 0
 2784 012e 2846     		mov	r0, r5
 2785 0130 FFF7FEFF 		bl	bsp_IoClr
 2786              	.LVL357:
 2787              	.LBE1370:
 2788              	.LBE1369:
 2789              	.LBB1371:
 2790              	.LBB1372:
   5:drivers/bsp_soft_i2c.c **** }
 2791              		.loc 1 5 0
 2792 0134 0220     		movs	r0, #2
 2793 0136 FFF7FEFF 		bl	delay_us
 2794              	.LVL358:
 2795              	.LBE1372:
 2796              	.LBE1371:
 2797              	.LBB1373:
 2798              	.LBB1374:
  11:drivers/bsp_soft_i2c.c **** 	else
 2799              		.loc 1 11 0
 2800 013a 2846     		mov	r0, r5
 2801 013c FFF7FEFF 		bl	bsp_IoSet
 2802              	.LVL359:
 2803              	.LBE1374:
 2804              	.LBE1373:
 2805              	.LBB1375:
 2806              	.LBB1376:
  19:drivers/bsp_soft_i2c.c **** 	else
 2807              		.loc 1 19 0
 2808 0140 2046     		mov	r0, r4
 2809 0142 FFF7FEFF 		bl	bsp_IoSet
 2810              	.LVL360:
 2811              	.LBE1376:
 2812              	.LBE1375:
 2813              	.LBB1377:
 2814              	.LBB1378:
   5:drivers/bsp_soft_i2c.c **** }
 2815              		.loc 1 5 0
 2816 0146 0220     		movs	r0, #2
 2817 0148 FFF7FEFF 		bl	delay_us
 2818              	.LVL361:
 2819              	.LBE1378:
 2820              	.LBE1377:
 2821              	.LBE1364:
 200:drivers/bsp_soft_i2c.c **** 	{
 201:drivers/bsp_soft_i2c.c **** 		bsp_SoftI2CStop(i2c);
 202:drivers/bsp_soft_i2c.c **** 		return -1;
 2822              		.loc 1 202 0
 2823 014c 4FF0FF30 		mov	r0, #-1
 2824 0150 CAE0     		b	.L93
 2825              	.LVL362:
 2826              	.L95:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 60


 2827              	.LBB1379:
 2828              	.LBB1363:
 2829              	.LBB1351:
 2830              	.LBB1352:
  13:drivers/bsp_soft_i2c.c **** }
 2831              		.loc 1 13 0
 2832 0152 4846     		mov	r0, r9
 2833 0154 FFF7FEFF 		bl	bsp_IoClr
 2834              	.LVL363:
 2835              	.L96:
 2836              	.LBE1352:
 2837              	.LBE1351:
 2838              	.LBB1353:
 2839              	.LBB1354:
  19:drivers/bsp_soft_i2c.c **** 	else
 2840              		.loc 1 19 0
 2841 0158 3046     		mov	r0, r6
 2842 015a FFF7FEFF 		bl	bsp_IoSet
 2843              	.LVL364:
 2844              	.LBE1354:
 2845              	.LBE1353:
 2846              	.LBB1355:
 2847              	.LBB1356:
   5:drivers/bsp_soft_i2c.c **** }
 2848              		.loc 1 5 0
 2849 015e 0220     		movs	r0, #2
 2850 0160 FFF7FEFF 		bl	delay_us
 2851              	.LVL365:
 2852              	.LBE1356:
 2853              	.LBE1355:
 2854              	.LBB1357:
 2855              	.LBB1358:
  21:drivers/bsp_soft_i2c.c **** }
 2856              		.loc 1 21 0
 2857 0164 3046     		mov	r0, r6
 2858 0166 FFF7FEFF 		bl	bsp_IoClr
 2859              	.LVL366:
 2860              	.LBE1358:
 2861              	.LBE1357:
 2862              	.LBB1359:
 2863              	.LBB1360:
   5:drivers/bsp_soft_i2c.c **** }
 2864              		.loc 1 5 0
 2865 016a 0220     		movs	r0, #2
 2866 016c FFF7FEFF 		bl	delay_us
 2867              	.LVL367:
 2868              	.LBE1360:
 2869              	.LBE1359:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 2870              		.loc 1 116 0
 2871 0170 6408     		lsrs	r4, r4, #1
 2872              	.LVL368:
 2873              	.L94:
 2874 0172 34B1     		cbz	r4, .L113
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 2875              		.loc 1 117 0
 2876 0174 18EA040F 		tst	r8, r4
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 61


 2877 0178 EBD0     		beq	.L95
 2878              	.LVL369:
 2879              	.LBB1361:
 2880              	.LBB1362:
  11:drivers/bsp_soft_i2c.c **** 	else
 2881              		.loc 1 11 0
 2882 017a 4846     		mov	r0, r9
 2883 017c FFF7FEFF 		bl	bsp_IoSet
 2884              	.LVL370:
 2885 0180 EAE7     		b	.L96
 2886              	.LVL371:
 2887              	.L113:
 2888              	.LBE1362:
 2889              	.LBE1361:
 2890              	.LBE1363:
 2891              	.LBE1379:
 2892              	.LBB1380:
 2893              	.LBB1381:
 2894              	.LBB1382:
 2895              	.LBB1383:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 2896              		.loc 1 34 0
 2897 0182 0323     		movs	r3, #3
 2898 0184 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2899              		.loc 1 35 0
 2900 0186 2E46     		mov	r6, r5
 2901 0188 2846     		mov	r0, r5
 2902 018a FFF7FEFF 		bl	bsp_IoInit
 2903              	.LVL372:
 2904              	.LBE1383:
 2905              	.LBE1382:
 2906              	.LBB1384:
 2907              	.LBB1385:
  11:drivers/bsp_soft_i2c.c **** 	else
 2908              		.loc 1 11 0
 2909 018e 2846     		mov	r0, r5
 2910 0190 FFF7FEFF 		bl	bsp_IoSet
 2911              	.LVL373:
 2912              	.LBE1385:
 2913              	.LBE1384:
 2914              	.LBB1386:
 2915              	.LBB1387:
   5:drivers/bsp_soft_i2c.c **** }
 2916              		.loc 1 5 0
 2917 0194 0220     		movs	r0, #2
 2918 0196 FFF7FEFF 		bl	delay_us
 2919              	.LVL374:
 2920              	.LBE1387:
 2921              	.LBE1386:
 2922              	.LBB1388:
 2923              	.LBB1389:
  19:drivers/bsp_soft_i2c.c **** 	else
 2924              		.loc 1 19 0
 2925 019a 05F10808 		add	r8, r5, #8
 2926 019e 4046     		mov	r0, r8
 2927 01a0 FFF7FEFF 		bl	bsp_IoSet
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 62


 2928              	.LVL375:
 2929              	.LBE1389:
 2930              	.LBE1388:
 2931              	.LBB1390:
 2932              	.LBB1391:
   5:drivers/bsp_soft_i2c.c **** }
 2933              		.loc 1 5 0
 2934 01a4 0220     		movs	r0, #2
 2935 01a6 FFF7FEFF 		bl	delay_us
 2936              	.LVL376:
 2937              	.L98:
 2938              	.LBE1391:
 2939              	.LBE1390:
 2940              	.LBB1392:
 2941              	.LBB1393:
  26:drivers/bsp_soft_i2c.c **** }
 2942              		.loc 1 26 0
 2943 01aa 3046     		mov	r0, r6
 2944 01ac FFF7FEFF 		bl	bsp_IoRead
 2945              	.LVL377:
 2946              	.LBE1393:
 2947              	.LBE1392:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 2948              		.loc 1 78 0
 2949 01b0 E8B1     		cbz	r0, .L114
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 2950              		.loc 1 79 0
 2951 01b2 0134     		adds	r4, r4, #1
 2952              	.LVL378:
 2953 01b4 E4B2     		uxtb	r4, r4
 2954              	.LVL379:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 2955              		.loc 1 80 0
 2956 01b6 FA2C     		cmp	r4, #250
 2957 01b8 F7D9     		bls	.L98
 2958              	.LVL380:
 2959              	.LBB1394:
 2960              	.LBB1395:
 2961              	.LBB1396:
  32:drivers/bsp_soft_i2c.c **** 	else
 2962              		.loc 1 32 0
 2963 01ba 0823     		movs	r3, #8
 2964 01bc 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 2965              		.loc 1 35 0
 2966 01be 2846     		mov	r0, r5
 2967 01c0 FFF7FEFF 		bl	bsp_IoInit
 2968              	.LVL381:
 2969              	.LBE1396:
 2970              	.LBE1395:
 2971              	.LBB1397:
 2972              	.LBB1398:
  21:drivers/bsp_soft_i2c.c **** }
 2973              		.loc 1 21 0
 2974 01c4 05F10804 		add	r4, r5, #8
 2975              	.LVL382:
 2976 01c8 2046     		mov	r0, r4
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 63


 2977 01ca FFF7FEFF 		bl	bsp_IoClr
 2978              	.LVL383:
 2979              	.LBE1398:
 2980              	.LBE1397:
 2981              	.LBB1399:
 2982              	.LBB1400:
  13:drivers/bsp_soft_i2c.c **** }
 2983              		.loc 1 13 0
 2984 01ce 2846     		mov	r0, r5
 2985 01d0 FFF7FEFF 		bl	bsp_IoClr
 2986              	.LVL384:
 2987              	.LBE1400:
 2988              	.LBE1399:
 2989              	.LBB1401:
 2990              	.LBB1402:
   5:drivers/bsp_soft_i2c.c **** }
 2991              		.loc 1 5 0
 2992 01d4 0220     		movs	r0, #2
 2993 01d6 FFF7FEFF 		bl	delay_us
 2994              	.LVL385:
 2995              	.LBE1402:
 2996              	.LBE1401:
 2997              	.LBB1403:
 2998              	.LBB1404:
  11:drivers/bsp_soft_i2c.c **** 	else
 2999              		.loc 1 11 0
 3000 01da 2846     		mov	r0, r5
 3001 01dc FFF7FEFF 		bl	bsp_IoSet
 3002              	.LVL386:
 3003              	.LBE1404:
 3004              	.LBE1403:
 3005              	.LBB1405:
 3006              	.LBB1406:
  19:drivers/bsp_soft_i2c.c **** 	else
 3007              		.loc 1 19 0
 3008 01e0 2046     		mov	r0, r4
 3009 01e2 FFF7FEFF 		bl	bsp_IoSet
 3010              	.LVL387:
 3011              	.LBE1406:
 3012              	.LBE1405:
 3013              	.LBB1407:
 3014              	.LBB1408:
   5:drivers/bsp_soft_i2c.c **** }
 3015              		.loc 1 5 0
 3016 01e6 0220     		movs	r0, #2
 3017 01e8 FFF7FEFF 		bl	delay_us
 3018              	.LVL388:
 3019 01ec 02E0     		b	.L99
 3020              	.LVL389:
 3021              	.L114:
 3022              	.LBE1408:
 3023              	.LBE1407:
 3024              	.LBE1394:
 3025              	.LBB1409:
 3026              	.LBB1410:
  21:drivers/bsp_soft_i2c.c **** }
 3027              		.loc 1 21 0
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 64


 3028 01ee 4046     		mov	r0, r8
 3029 01f0 FFF7FEFF 		bl	bsp_IoClr
 3030              	.LVL390:
 3031              	.L99:
 3032              	.LBE1410:
 3033              	.LBE1409:
 3034              	.LBE1381:
 3035              	.LBE1380:
 3036              	.LBB1411:
 3037              	.LBB1412:
 3038              	.LBB1413:
 3039              	.LBB1414:
  32:drivers/bsp_soft_i2c.c **** 	else
 3040              		.loc 1 32 0
 3041 01f4 0823     		movs	r3, #8
 3042 01f6 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3043              		.loc 1 35 0
 3044 01f8 A846     		mov	r8, r5
 3045 01fa 2846     		mov	r0, r5
 3046 01fc FFF7FEFF 		bl	bsp_IoInit
 3047              	.LVL391:
 3048              	.LBE1414:
 3049              	.LBE1413:
 3050              	.LBB1415:
 3051              	.LBB1416:
  21:drivers/bsp_soft_i2c.c **** }
 3052              		.loc 1 21 0
 3053 0200 05F10806 		add	r6, r5, #8
 3054 0204 3046     		mov	r0, r6
 3055 0206 FFF7FEFF 		bl	bsp_IoClr
 3056              	.LVL392:
 3057              	.LBE1416:
 3058              	.LBE1415:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 3059              		.loc 1 116 0
 3060 020a 8024     		movs	r4, #128
 3061 020c 0FE0     		b	.L101
 3062              	.LVL393:
 3063              	.L102:
 3064              	.LBB1417:
 3065              	.LBB1418:
  13:drivers/bsp_soft_i2c.c **** }
 3066              		.loc 1 13 0
 3067 020e 4046     		mov	r0, r8
 3068 0210 FFF7FEFF 		bl	bsp_IoClr
 3069              	.LVL394:
 3070              	.L103:
 3071              	.LBE1418:
 3072              	.LBE1417:
 3073              	.LBB1419:
 3074              	.LBB1420:
  19:drivers/bsp_soft_i2c.c **** 	else
 3075              		.loc 1 19 0
 3076 0214 3046     		mov	r0, r6
 3077 0216 FFF7FEFF 		bl	bsp_IoSet
 3078              	.LVL395:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 65


 3079              	.LBE1420:
 3080              	.LBE1419:
 3081              	.LBB1421:
 3082              	.LBB1422:
   5:drivers/bsp_soft_i2c.c **** }
 3083              		.loc 1 5 0
 3084 021a 0220     		movs	r0, #2
 3085 021c FFF7FEFF 		bl	delay_us
 3086              	.LVL396:
 3087              	.LBE1422:
 3088              	.LBE1421:
 3089              	.LBB1423:
 3090              	.LBB1424:
  21:drivers/bsp_soft_i2c.c **** }
 3091              		.loc 1 21 0
 3092 0220 3046     		mov	r0, r6
 3093 0222 FFF7FEFF 		bl	bsp_IoClr
 3094              	.LVL397:
 3095              	.LBE1424:
 3096              	.LBE1423:
 3097              	.LBB1425:
 3098              	.LBB1426:
   5:drivers/bsp_soft_i2c.c **** }
 3099              		.loc 1 5 0
 3100 0226 0220     		movs	r0, #2
 3101 0228 FFF7FEFF 		bl	delay_us
 3102              	.LVL398:
 3103              	.LBE1426:
 3104              	.LBE1425:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 3105              		.loc 1 116 0
 3106 022c 6408     		lsrs	r4, r4, #1
 3107              	.LVL399:
 3108              	.L101:
 3109 022e 2CB1     		cbz	r4, .L115
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 3110              		.loc 1 117 0
 3111 0230 2742     		tst	r7, r4
 3112 0232 ECD0     		beq	.L102
 3113              	.LVL400:
 3114              	.LBB1427:
 3115              	.LBB1428:
  11:drivers/bsp_soft_i2c.c **** 	else
 3116              		.loc 1 11 0
 3117 0234 4046     		mov	r0, r8
 3118 0236 FFF7FEFF 		bl	bsp_IoSet
 3119              	.LVL401:
 3120 023a EBE7     		b	.L103
 3121              	.LVL402:
 3122              	.L115:
 3123              	.LBE1428:
 3124              	.LBE1427:
 3125              	.LBE1412:
 3126              	.LBE1411:
 3127              	.LBB1429:
 3128              	.LBB1430:
 3129              	.LBB1431:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 66


 3130              	.LBB1432:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 3131              		.loc 1 34 0
 3132 023c 0323     		movs	r3, #3
 3133 023e 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3134              		.loc 1 35 0
 3135 0240 2F46     		mov	r7, r5
 3136 0242 2846     		mov	r0, r5
 3137 0244 FFF7FEFF 		bl	bsp_IoInit
 3138              	.LVL403:
 3139              	.LBE1432:
 3140              	.LBE1431:
 3141              	.LBB1433:
 3142              	.LBB1434:
  11:drivers/bsp_soft_i2c.c **** 	else
 3143              		.loc 1 11 0
 3144 0248 2846     		mov	r0, r5
 3145 024a FFF7FEFF 		bl	bsp_IoSet
 3146              	.LVL404:
 3147              	.LBE1434:
 3148              	.LBE1433:
 3149              	.LBB1435:
 3150              	.LBB1436:
   5:drivers/bsp_soft_i2c.c **** }
 3151              		.loc 1 5 0
 3152 024e 0220     		movs	r0, #2
 3153 0250 FFF7FEFF 		bl	delay_us
 3154              	.LVL405:
 3155              	.LBE1436:
 3156              	.LBE1435:
 3157              	.LBB1437:
 3158              	.LBB1438:
  19:drivers/bsp_soft_i2c.c **** 	else
 3159              		.loc 1 19 0
 3160 0254 05F10808 		add	r8, r5, #8
 3161 0258 4046     		mov	r0, r8
 3162 025a FFF7FEFF 		bl	bsp_IoSet
 3163              	.LVL406:
 3164              	.LBE1438:
 3165              	.LBE1437:
 3166              	.LBB1439:
 3167              	.LBB1440:
   5:drivers/bsp_soft_i2c.c **** }
 3168              		.loc 1 5 0
 3169 025e 0220     		movs	r0, #2
 3170 0260 FFF7FEFF 		bl	delay_us
 3171              	.LVL407:
 3172              	.L105:
 3173              	.LBE1440:
 3174              	.LBE1439:
 3175              	.LBB1441:
 3176              	.LBB1442:
  26:drivers/bsp_soft_i2c.c **** }
 3177              		.loc 1 26 0
 3178 0264 3846     		mov	r0, r7
 3179 0266 FFF7FEFF 		bl	bsp_IoRead
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 67


 3180              	.LVL408:
 3181              	.LBE1442:
 3182              	.LBE1441:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 3183              		.loc 1 78 0
 3184 026a 0646     		mov	r6, r0
 3185 026c F0B1     		cbz	r0, .L116
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 3186              		.loc 1 79 0
 3187 026e 0134     		adds	r4, r4, #1
 3188              	.LVL409:
 3189 0270 E4B2     		uxtb	r4, r4
 3190              	.LVL410:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 3191              		.loc 1 80 0
 3192 0272 FA2C     		cmp	r4, #250
 3193 0274 F6D9     		bls	.L105
 3194              	.LVL411:
 3195              	.LBB1443:
 3196              	.LBB1444:
 3197              	.LBB1445:
  32:drivers/bsp_soft_i2c.c **** 	else
 3198              		.loc 1 32 0
 3199 0276 0823     		movs	r3, #8
 3200 0278 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3201              		.loc 1 35 0
 3202 027a 2846     		mov	r0, r5
 3203 027c FFF7FEFF 		bl	bsp_IoInit
 3204              	.LVL412:
 3205              	.LBE1445:
 3206              	.LBE1444:
 3207              	.LBB1446:
 3208              	.LBB1447:
  21:drivers/bsp_soft_i2c.c **** }
 3209              		.loc 1 21 0
 3210 0280 05F10804 		add	r4, r5, #8
 3211              	.LVL413:
 3212 0284 2046     		mov	r0, r4
 3213 0286 FFF7FEFF 		bl	bsp_IoClr
 3214              	.LVL414:
 3215              	.LBE1447:
 3216              	.LBE1446:
 3217              	.LBB1448:
 3218              	.LBB1449:
  13:drivers/bsp_soft_i2c.c **** }
 3219              		.loc 1 13 0
 3220 028a 2846     		mov	r0, r5
 3221 028c FFF7FEFF 		bl	bsp_IoClr
 3222              	.LVL415:
 3223              	.LBE1449:
 3224              	.LBE1448:
 3225              	.LBB1450:
 3226              	.LBB1451:
   5:drivers/bsp_soft_i2c.c **** }
 3227              		.loc 1 5 0
 3228 0290 0220     		movs	r0, #2
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 68


 3229 0292 FFF7FEFF 		bl	delay_us
 3230              	.LVL416:
 3231              	.LBE1451:
 3232              	.LBE1450:
 3233              	.LBB1452:
 3234              	.LBB1453:
  11:drivers/bsp_soft_i2c.c **** 	else
 3235              		.loc 1 11 0
 3236 0296 2846     		mov	r0, r5
 3237 0298 FFF7FEFF 		bl	bsp_IoSet
 3238              	.LVL417:
 3239              	.LBE1453:
 3240              	.LBE1452:
 3241              	.LBB1454:
 3242              	.LBB1455:
  19:drivers/bsp_soft_i2c.c **** 	else
 3243              		.loc 1 19 0
 3244 029c 2046     		mov	r0, r4
 3245 029e FFF7FEFF 		bl	bsp_IoSet
 3246              	.LVL418:
 3247              	.LBE1455:
 3248              	.LBE1454:
 3249              	.LBB1456:
 3250              	.LBB1457:
   5:drivers/bsp_soft_i2c.c **** }
 3251              		.loc 1 5 0
 3252 02a2 0220     		movs	r0, #2
 3253 02a4 FFF7FEFF 		bl	delay_us
 3254              	.LVL419:
 3255              	.LBE1457:
 3256              	.LBE1456:
 3257              	.LBE1443:
  82:drivers/bsp_soft_i2c.c **** 		}
 3258              		.loc 1 82 0
 3259 02a8 0126     		movs	r6, #1
 3260 02aa 02E0     		b	.L106
 3261              	.LVL420:
 3262              	.L116:
 3263              	.LBB1458:
 3264              	.LBB1459:
  21:drivers/bsp_soft_i2c.c **** }
 3265              		.loc 1 21 0
 3266 02ac 4046     		mov	r0, r8
 3267 02ae FFF7FEFF 		bl	bsp_IoClr
 3268              	.LVL421:
 3269              	.L106:
 3270              	.LBE1459:
 3271              	.LBE1458:
 3272              	.LBE1430:
 3273              	.LBE1429:
 203:drivers/bsp_soft_i2c.c **** 	}
 204:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CSendByte(i2c, reg);    //写寄存器地址
 205:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CWaitAck(i2c);        //等待应答
 206:drivers/bsp_soft_i2c.c **** 
 207:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CSendByte(i2c, dat);//发送数据
 208:drivers/bsp_soft_i2c.c **** 	if (bsp_SoftI2CWaitAck(i2c))    //等待ACK
 3274              		.loc 1 208 0
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 69


 3275 02b2 DEB9     		cbnz	r6, .L117
 3276              	.LVL422:
 3277              	.LBB1460:
 3278              	.LBB1461:
 3279              	.LBB1462:
  32:drivers/bsp_soft_i2c.c **** 	else
 3280              		.loc 1 32 0
 3281 02b4 0823     		movs	r3, #8
 3282 02b6 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3283              		.loc 1 35 0
 3284 02b8 2846     		mov	r0, r5
 3285 02ba FFF7FEFF 		bl	bsp_IoInit
 3286              	.LVL423:
 3287              	.LBE1462:
 3288              	.LBE1461:
 3289              	.LBB1463:
 3290              	.LBB1464:
  21:drivers/bsp_soft_i2c.c **** }
 3291              		.loc 1 21 0
 3292 02be 05F10804 		add	r4, r5, #8
 3293 02c2 2046     		mov	r0, r4
 3294 02c4 FFF7FEFF 		bl	bsp_IoClr
 3295              	.LVL424:
 3296              	.LBE1464:
 3297              	.LBE1463:
 3298              	.LBB1465:
 3299              	.LBB1466:
  13:drivers/bsp_soft_i2c.c **** }
 3300              		.loc 1 13 0
 3301 02c8 2846     		mov	r0, r5
 3302 02ca FFF7FEFF 		bl	bsp_IoClr
 3303              	.LVL425:
 3304              	.LBE1466:
 3305              	.LBE1465:
 3306              	.LBB1467:
 3307              	.LBB1468:
   5:drivers/bsp_soft_i2c.c **** }
 3308              		.loc 1 5 0
 3309 02ce 0220     		movs	r0, #2
 3310 02d0 FFF7FEFF 		bl	delay_us
 3311              	.LVL426:
 3312              	.LBE1468:
 3313              	.LBE1467:
 3314              	.LBB1469:
 3315              	.LBB1470:
  11:drivers/bsp_soft_i2c.c **** 	else
 3316              		.loc 1 11 0
 3317 02d4 2846     		mov	r0, r5
 3318 02d6 FFF7FEFF 		bl	bsp_IoSet
 3319              	.LVL427:
 3320              	.LBE1470:
 3321              	.LBE1469:
 3322              	.LBB1471:
 3323              	.LBB1472:
  19:drivers/bsp_soft_i2c.c **** 	else
 3324              		.loc 1 19 0
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 70


 3325 02da 2046     		mov	r0, r4
 3326 02dc FFF7FEFF 		bl	bsp_IoSet
 3327              	.LVL428:
 3328              	.LBE1472:
 3329              	.LBE1471:
 3330              	.LBB1473:
 3331              	.LBB1474:
   5:drivers/bsp_soft_i2c.c **** }
 3332              		.loc 1 5 0
 3333 02e0 0220     		movs	r0, #2
 3334 02e2 FFF7FEFF 		bl	delay_us
 3335              	.LVL429:
 3336              	.LBE1474:
 3337              	.LBE1473:
 3338              	.LBE1460:
 209:drivers/bsp_soft_i2c.c **** 	{
 210:drivers/bsp_soft_i2c.c **** 		bsp_SoftI2CStop(i2c);
 211:drivers/bsp_soft_i2c.c **** 		return -1;
 212:drivers/bsp_soft_i2c.c **** 	}
 213:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CStop(i2c);
 214:drivers/bsp_soft_i2c.c **** 	return 0;
 3339              		.loc 1 214 0
 3340 02e6 0020     		movs	r0, #0
 3341              	.LVL430:
 3342              	.L93:
 215:drivers/bsp_soft_i2c.c **** }
 3343              		.loc 1 215 0
 3344 02e8 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3345              	.LVL431:
 3346              	.L117:
 3347              	.LBB1475:
 3348              	.LBB1476:
 3349              	.LBB1477:
  32:drivers/bsp_soft_i2c.c **** 	else
 3350              		.loc 1 32 0
 3351 02ec 0823     		movs	r3, #8
 3352 02ee 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3353              		.loc 1 35 0
 3354 02f0 2846     		mov	r0, r5
 3355 02f2 FFF7FEFF 		bl	bsp_IoInit
 3356              	.LVL432:
 3357              	.LBE1477:
 3358              	.LBE1476:
 3359              	.LBB1478:
 3360              	.LBB1479:
  21:drivers/bsp_soft_i2c.c **** }
 3361              		.loc 1 21 0
 3362 02f6 05F10804 		add	r4, r5, #8
 3363 02fa 2046     		mov	r0, r4
 3364 02fc FFF7FEFF 		bl	bsp_IoClr
 3365              	.LVL433:
 3366              	.LBE1479:
 3367              	.LBE1478:
 3368              	.LBB1480:
 3369              	.LBB1481:
  13:drivers/bsp_soft_i2c.c **** }
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 71


 3370              		.loc 1 13 0
 3371 0300 2846     		mov	r0, r5
 3372 0302 FFF7FEFF 		bl	bsp_IoClr
 3373              	.LVL434:
 3374              	.LBE1481:
 3375              	.LBE1480:
 3376              	.LBB1482:
 3377              	.LBB1483:
   5:drivers/bsp_soft_i2c.c **** }
 3378              		.loc 1 5 0
 3379 0306 0220     		movs	r0, #2
 3380 0308 FFF7FEFF 		bl	delay_us
 3381              	.LVL435:
 3382              	.LBE1483:
 3383              	.LBE1482:
 3384              	.LBB1484:
 3385              	.LBB1485:
  11:drivers/bsp_soft_i2c.c **** 	else
 3386              		.loc 1 11 0
 3387 030c 2846     		mov	r0, r5
 3388 030e FFF7FEFF 		bl	bsp_IoSet
 3389              	.LVL436:
 3390              	.LBE1485:
 3391              	.LBE1484:
 3392              	.LBB1486:
 3393              	.LBB1487:
  19:drivers/bsp_soft_i2c.c **** 	else
 3394              		.loc 1 19 0
 3395 0312 2046     		mov	r0, r4
 3396 0314 FFF7FEFF 		bl	bsp_IoSet
 3397              	.LVL437:
 3398              	.LBE1487:
 3399              	.LBE1486:
 3400              	.LBB1488:
 3401              	.LBB1489:
   5:drivers/bsp_soft_i2c.c **** }
 3402              		.loc 1 5 0
 3403 0318 0220     		movs	r0, #2
 3404 031a FFF7FEFF 		bl	delay_us
 3405              	.LVL438:
 3406              	.LBE1489:
 3407              	.LBE1488:
 3408              	.LBE1475:
 211:drivers/bsp_soft_i2c.c **** 	}
 3409              		.loc 1 211 0
 3410 031e 4FF0FF30 		mov	r0, #-1
 3411 0322 E1E7     		b	.L93
 3412              		.cfi_endproc
 3413              	.LFE81:
 3415              		.section	.text.bsp_SoftI2CReadReg,"ax",%progbits
 3416              		.align	1
 3417              		.global	bsp_SoftI2CReadReg
 3418              		.syntax unified
 3419              		.thumb
 3420              		.thumb_func
 3421              		.fpu softvfp
 3423              	bsp_SoftI2CReadReg:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 72


 3424              	.LFB82:
 216:drivers/bsp_soft_i2c.c **** 
 217:drivers/bsp_soft_i2c.c **** u8 bsp_SoftI2CReadReg(_I2C *i2c, u8 addr, u8 reg)
 218:drivers/bsp_soft_i2c.c **** {
 3425              		.loc 1 218 0
 3426              		.cfi_startproc
 3427              		@ args = 0, pretend = 0, frame = 0
 3428              		@ frame_needed = 0, uses_anonymous_args = 0
 3429              	.LVL439:
 3430 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3431              	.LCFI6:
 3432              		.cfi_def_cfa_offset 32
 3433              		.cfi_offset 4, -32
 3434              		.cfi_offset 5, -28
 3435              		.cfi_offset 6, -24
 3436              		.cfi_offset 7, -20
 3437              		.cfi_offset 8, -16
 3438              		.cfi_offset 9, -12
 3439              		.cfi_offset 10, -8
 3440              		.cfi_offset 14, -4
 3441 0004 0546     		mov	r5, r0
 3442 0006 0F46     		mov	r7, r1
 3443 0008 9046     		mov	r8, r2
 3444              	.LVL440:
 3445              	.LBB1732:
 3446              	.LBB1733:
 3447              	.LBB1734:
  32:drivers/bsp_soft_i2c.c **** 	else
 3448              		.loc 1 32 0
 3449 000a 0826     		movs	r6, #8
 3450 000c 4671     		strb	r6, [r0, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3451              		.loc 1 35 0
 3452 000e FFF7FEFF 		bl	bsp_IoInit
 3453              	.LVL441:
 3454              	.LBE1734:
 3455              	.LBE1733:
 3456              	.LBB1735:
 3457              	.LBB1736:
  11:drivers/bsp_soft_i2c.c **** 	else
 3458              		.loc 1 11 0
 3459 0012 2846     		mov	r0, r5
 3460 0014 FFF7FEFF 		bl	bsp_IoSet
 3461              	.LVL442:
 3462              	.LBE1736:
 3463              	.LBE1735:
 3464              	.LBB1737:
 3465              	.LBB1738:
  19:drivers/bsp_soft_i2c.c **** 	else
 3466              		.loc 1 19 0
 3467 0018 AC19     		adds	r4, r5, r6
 3468 001a 2046     		mov	r0, r4
 3469 001c FFF7FEFF 		bl	bsp_IoSet
 3470              	.LVL443:
 3471              	.LBE1738:
 3472              	.LBE1737:
 3473              	.LBB1739:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 73


 3474              	.LBB1740:
   5:drivers/bsp_soft_i2c.c **** }
 3475              		.loc 1 5 0
 3476 0020 0220     		movs	r0, #2
 3477 0022 FFF7FEFF 		bl	delay_us
 3478              	.LVL444:
 3479              	.LBE1740:
 3480              	.LBE1739:
 3481              	.LBB1741:
 3482              	.LBB1742:
  13:drivers/bsp_soft_i2c.c **** }
 3483              		.loc 1 13 0
 3484 0026 2846     		mov	r0, r5
 3485 0028 FFF7FEFF 		bl	bsp_IoClr
 3486              	.LVL445:
 3487              	.LBE1742:
 3488              	.LBE1741:
 3489              	.LBB1743:
 3490              	.LBB1744:
   5:drivers/bsp_soft_i2c.c **** }
 3491              		.loc 1 5 0
 3492 002c 0220     		movs	r0, #2
 3493 002e FFF7FEFF 		bl	delay_us
 3494              	.LVL446:
 3495              	.LBE1744:
 3496              	.LBE1743:
 3497              	.LBB1745:
 3498              	.LBB1746:
  21:drivers/bsp_soft_i2c.c **** }
 3499              		.loc 1 21 0
 3500 0032 2046     		mov	r0, r4
 3501 0034 FFF7FEFF 		bl	bsp_IoClr
 3502              	.LVL447:
 3503              	.LBE1746:
 3504              	.LBE1745:
 3505              	.LBE1732:
 219:drivers/bsp_soft_i2c.c **** 	u8 res;
 220:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CStart(i2c);
 221:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CSendByte(i2c, (addr << 1) | 0);//发送器件地址+写命令
 3506              		.loc 1 221 0
 3507 0038 4FEA4709 		lsl	r9, r7, #1
 3508 003c 5FFA89F9 		uxtb	r9, r9
 3509              	.LVL448:
 3510              	.LBB1747:
 3511              	.LBB1748:
 3512              	.LBB1749:
 3513              	.LBB1750:
  32:drivers/bsp_soft_i2c.c **** 	else
 3514              		.loc 1 32 0
 3515 0040 6E71     		strb	r6, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3516              		.loc 1 35 0
 3517 0042 AA46     		mov	r10, r5
 3518 0044 2846     		mov	r0, r5
 3519 0046 FFF7FEFF 		bl	bsp_IoInit
 3520              	.LVL449:
 3521              	.LBE1750:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 74


 3522              	.LBE1749:
 3523              	.LBB1751:
 3524              	.LBB1752:
  21:drivers/bsp_soft_i2c.c **** }
 3525              		.loc 1 21 0
 3526 004a 2646     		mov	r6, r4
 3527 004c 2046     		mov	r0, r4
 3528 004e FFF7FEFF 		bl	bsp_IoClr
 3529              	.LVL450:
 3530              	.LBE1752:
 3531              	.LBE1751:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 3532              		.loc 1 116 0
 3533 0052 8024     		movs	r4, #128
 3534 0054 0FE0     		b	.L119
 3535              	.LVL451:
 3536              	.L120:
 3537              	.LBB1753:
 3538              	.LBB1754:
  13:drivers/bsp_soft_i2c.c **** }
 3539              		.loc 1 13 0
 3540 0056 5046     		mov	r0, r10
 3541 0058 FFF7FEFF 		bl	bsp_IoClr
 3542              	.LVL452:
 3543              	.L121:
 3544              	.LBE1754:
 3545              	.LBE1753:
 3546              	.LBB1755:
 3547              	.LBB1756:
  19:drivers/bsp_soft_i2c.c **** 	else
 3548              		.loc 1 19 0
 3549 005c 3046     		mov	r0, r6
 3550 005e FFF7FEFF 		bl	bsp_IoSet
 3551              	.LVL453:
 3552              	.LBE1756:
 3553              	.LBE1755:
 3554              	.LBB1757:
 3555              	.LBB1758:
   5:drivers/bsp_soft_i2c.c **** }
 3556              		.loc 1 5 0
 3557 0062 0220     		movs	r0, #2
 3558 0064 FFF7FEFF 		bl	delay_us
 3559              	.LVL454:
 3560              	.LBE1758:
 3561              	.LBE1757:
 3562              	.LBB1759:
 3563              	.LBB1760:
  21:drivers/bsp_soft_i2c.c **** }
 3564              		.loc 1 21 0
 3565 0068 3046     		mov	r0, r6
 3566 006a FFF7FEFF 		bl	bsp_IoClr
 3567              	.LVL455:
 3568              	.LBE1760:
 3569              	.LBE1759:
 3570              	.LBB1761:
 3571              	.LBB1762:
   5:drivers/bsp_soft_i2c.c **** }
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 75


 3572              		.loc 1 5 0
 3573 006e 0220     		movs	r0, #2
 3574 0070 FFF7FEFF 		bl	delay_us
 3575              	.LVL456:
 3576              	.LBE1762:
 3577              	.LBE1761:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 3578              		.loc 1 116 0
 3579 0074 6408     		lsrs	r4, r4, #1
 3580              	.LVL457:
 3581              	.L119:
 3582 0076 34B1     		cbz	r4, .L144
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 3583              		.loc 1 117 0
 3584 0078 19EA040F 		tst	r9, r4
 3585 007c EBD0     		beq	.L120
 3586              	.LVL458:
 3587              	.LBB1763:
 3588              	.LBB1764:
  11:drivers/bsp_soft_i2c.c **** 	else
 3589              		.loc 1 11 0
 3590 007e 5046     		mov	r0, r10
 3591 0080 FFF7FEFF 		bl	bsp_IoSet
 3592              	.LVL459:
 3593 0084 EAE7     		b	.L121
 3594              	.LVL460:
 3595              	.L144:
 3596              	.LBE1764:
 3597              	.LBE1763:
 3598              	.LBE1748:
 3599              	.LBE1747:
 3600              	.LBB1765:
 3601              	.LBB1766:
 3602              	.LBB1767:
 3603              	.LBB1768:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 3604              		.loc 1 34 0
 3605 0086 0323     		movs	r3, #3
 3606 0088 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3607              		.loc 1 35 0
 3608 008a 2E46     		mov	r6, r5
 3609 008c 2846     		mov	r0, r5
 3610 008e FFF7FEFF 		bl	bsp_IoInit
 3611              	.LVL461:
 3612              	.LBE1768:
 3613              	.LBE1767:
 3614              	.LBB1769:
 3615              	.LBB1770:
  11:drivers/bsp_soft_i2c.c **** 	else
 3616              		.loc 1 11 0
 3617 0092 2846     		mov	r0, r5
 3618 0094 FFF7FEFF 		bl	bsp_IoSet
 3619              	.LVL462:
 3620              	.LBE1770:
 3621              	.LBE1769:
 3622              	.LBB1771:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 76


 3623              	.LBB1772:
   5:drivers/bsp_soft_i2c.c **** }
 3624              		.loc 1 5 0
 3625 0098 0220     		movs	r0, #2
 3626 009a FFF7FEFF 		bl	delay_us
 3627              	.LVL463:
 3628              	.LBE1772:
 3629              	.LBE1771:
 3630              	.LBB1773:
 3631              	.LBB1774:
  19:drivers/bsp_soft_i2c.c **** 	else
 3632              		.loc 1 19 0
 3633 009e 05F10809 		add	r9, r5, #8
 3634 00a2 4846     		mov	r0, r9
 3635 00a4 FFF7FEFF 		bl	bsp_IoSet
 3636              	.LVL464:
 3637              	.LBE1774:
 3638              	.LBE1773:
 3639              	.LBB1775:
 3640              	.LBB1776:
   5:drivers/bsp_soft_i2c.c **** }
 3641              		.loc 1 5 0
 3642 00a8 0220     		movs	r0, #2
 3643 00aa FFF7FEFF 		bl	delay_us
 3644              	.LVL465:
 3645              	.L123:
 3646              	.LBE1776:
 3647              	.LBE1775:
 3648              	.LBB1777:
 3649              	.LBB1778:
  26:drivers/bsp_soft_i2c.c **** }
 3650              		.loc 1 26 0
 3651 00ae 3046     		mov	r0, r6
 3652 00b0 FFF7FEFF 		bl	bsp_IoRead
 3653              	.LVL466:
 3654              	.LBE1778:
 3655              	.LBE1777:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 3656              		.loc 1 78 0
 3657 00b4 E8B1     		cbz	r0, .L145
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 3658              		.loc 1 79 0
 3659 00b6 0134     		adds	r4, r4, #1
 3660              	.LVL467:
 3661 00b8 E4B2     		uxtb	r4, r4
 3662              	.LVL468:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 3663              		.loc 1 80 0
 3664 00ba FA2C     		cmp	r4, #250
 3665 00bc F7D9     		bls	.L123
 3666              	.LVL469:
 3667              	.LBB1779:
 3668              	.LBB1780:
 3669              	.LBB1781:
  32:drivers/bsp_soft_i2c.c **** 	else
 3670              		.loc 1 32 0
 3671 00be 0823     		movs	r3, #8
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 77


 3672 00c0 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3673              		.loc 1 35 0
 3674 00c2 2846     		mov	r0, r5
 3675 00c4 FFF7FEFF 		bl	bsp_IoInit
 3676              	.LVL470:
 3677              	.LBE1781:
 3678              	.LBE1780:
 3679              	.LBB1782:
 3680              	.LBB1783:
  21:drivers/bsp_soft_i2c.c **** }
 3681              		.loc 1 21 0
 3682 00c8 05F10804 		add	r4, r5, #8
 3683              	.LVL471:
 3684 00cc 2046     		mov	r0, r4
 3685 00ce FFF7FEFF 		bl	bsp_IoClr
 3686              	.LVL472:
 3687              	.LBE1783:
 3688              	.LBE1782:
 3689              	.LBB1784:
 3690              	.LBB1785:
  13:drivers/bsp_soft_i2c.c **** }
 3691              		.loc 1 13 0
 3692 00d2 2846     		mov	r0, r5
 3693 00d4 FFF7FEFF 		bl	bsp_IoClr
 3694              	.LVL473:
 3695              	.LBE1785:
 3696              	.LBE1784:
 3697              	.LBB1786:
 3698              	.LBB1787:
   5:drivers/bsp_soft_i2c.c **** }
 3699              		.loc 1 5 0
 3700 00d8 0220     		movs	r0, #2
 3701 00da FFF7FEFF 		bl	delay_us
 3702              	.LVL474:
 3703              	.LBE1787:
 3704              	.LBE1786:
 3705              	.LBB1788:
 3706              	.LBB1789:
  11:drivers/bsp_soft_i2c.c **** 	else
 3707              		.loc 1 11 0
 3708 00de 2846     		mov	r0, r5
 3709 00e0 FFF7FEFF 		bl	bsp_IoSet
 3710              	.LVL475:
 3711              	.LBE1789:
 3712              	.LBE1788:
 3713              	.LBB1790:
 3714              	.LBB1791:
  19:drivers/bsp_soft_i2c.c **** 	else
 3715              		.loc 1 19 0
 3716 00e4 2046     		mov	r0, r4
 3717 00e6 FFF7FEFF 		bl	bsp_IoSet
 3718              	.LVL476:
 3719              	.LBE1791:
 3720              	.LBE1790:
 3721              	.LBB1792:
 3722              	.LBB1793:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 78


   5:drivers/bsp_soft_i2c.c **** }
 3723              		.loc 1 5 0
 3724 00ea 0220     		movs	r0, #2
 3725 00ec FFF7FEFF 		bl	delay_us
 3726              	.LVL477:
 3727 00f0 02E0     		b	.L124
 3728              	.LVL478:
 3729              	.L145:
 3730              	.LBE1793:
 3731              	.LBE1792:
 3732              	.LBE1779:
 3733              	.LBB1794:
 3734              	.LBB1795:
  21:drivers/bsp_soft_i2c.c **** }
 3735              		.loc 1 21 0
 3736 00f2 4846     		mov	r0, r9
 3737 00f4 FFF7FEFF 		bl	bsp_IoClr
 3738              	.LVL479:
 3739              	.L124:
 3740              	.LBE1795:
 3741              	.LBE1794:
 3742              	.LBE1766:
 3743              	.LBE1765:
 3744              	.LBB1796:
 3745              	.LBB1797:
 3746              	.LBB1798:
 3747              	.LBB1799:
  32:drivers/bsp_soft_i2c.c **** 	else
 3748              		.loc 1 32 0
 3749 00f8 0823     		movs	r3, #8
 3750 00fa 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3751              		.loc 1 35 0
 3752 00fc A946     		mov	r9, r5
 3753 00fe 2846     		mov	r0, r5
 3754 0100 FFF7FEFF 		bl	bsp_IoInit
 3755              	.LVL480:
 3756              	.LBE1799:
 3757              	.LBE1798:
 3758              	.LBB1800:
 3759              	.LBB1801:
  21:drivers/bsp_soft_i2c.c **** }
 3760              		.loc 1 21 0
 3761 0104 05F10806 		add	r6, r5, #8
 3762 0108 3046     		mov	r0, r6
 3763 010a FFF7FEFF 		bl	bsp_IoClr
 3764              	.LVL481:
 3765              	.LBE1801:
 3766              	.LBE1800:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 3767              		.loc 1 116 0
 3768 010e 8024     		movs	r4, #128
 3769 0110 0FE0     		b	.L126
 3770              	.LVL482:
 3771              	.L127:
 3772              	.LBB1802:
 3773              	.LBB1803:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 79


  13:drivers/bsp_soft_i2c.c **** }
 3774              		.loc 1 13 0
 3775 0112 4846     		mov	r0, r9
 3776 0114 FFF7FEFF 		bl	bsp_IoClr
 3777              	.LVL483:
 3778              	.L128:
 3779              	.LBE1803:
 3780              	.LBE1802:
 3781              	.LBB1804:
 3782              	.LBB1805:
  19:drivers/bsp_soft_i2c.c **** 	else
 3783              		.loc 1 19 0
 3784 0118 3046     		mov	r0, r6
 3785 011a FFF7FEFF 		bl	bsp_IoSet
 3786              	.LVL484:
 3787              	.LBE1805:
 3788              	.LBE1804:
 3789              	.LBB1806:
 3790              	.LBB1807:
   5:drivers/bsp_soft_i2c.c **** }
 3791              		.loc 1 5 0
 3792 011e 0220     		movs	r0, #2
 3793 0120 FFF7FEFF 		bl	delay_us
 3794              	.LVL485:
 3795              	.LBE1807:
 3796              	.LBE1806:
 3797              	.LBB1808:
 3798              	.LBB1809:
  21:drivers/bsp_soft_i2c.c **** }
 3799              		.loc 1 21 0
 3800 0124 3046     		mov	r0, r6
 3801 0126 FFF7FEFF 		bl	bsp_IoClr
 3802              	.LVL486:
 3803              	.LBE1809:
 3804              	.LBE1808:
 3805              	.LBB1810:
 3806              	.LBB1811:
   5:drivers/bsp_soft_i2c.c **** }
 3807              		.loc 1 5 0
 3808 012a 0220     		movs	r0, #2
 3809 012c FFF7FEFF 		bl	delay_us
 3810              	.LVL487:
 3811              	.LBE1811:
 3812              	.LBE1810:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 3813              		.loc 1 116 0
 3814 0130 6408     		lsrs	r4, r4, #1
 3815              	.LVL488:
 3816              	.L126:
 3817 0132 34B1     		cbz	r4, .L146
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 3818              		.loc 1 117 0
 3819 0134 18EA040F 		tst	r8, r4
 3820 0138 EBD0     		beq	.L127
 3821              	.LVL489:
 3822              	.LBB1812:
 3823              	.LBB1813:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 80


  11:drivers/bsp_soft_i2c.c **** 	else
 3824              		.loc 1 11 0
 3825 013a 4846     		mov	r0, r9
 3826 013c FFF7FEFF 		bl	bsp_IoSet
 3827              	.LVL490:
 3828 0140 EAE7     		b	.L128
 3829              	.LVL491:
 3830              	.L146:
 3831              	.LBE1813:
 3832              	.LBE1812:
 3833              	.LBE1797:
 3834              	.LBE1796:
 3835              	.LBB1814:
 3836              	.LBB1815:
 3837              	.LBB1816:
 3838              	.LBB1817:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 3839              		.loc 1 34 0
 3840 0142 0323     		movs	r3, #3
 3841 0144 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3842              		.loc 1 35 0
 3843 0146 2E46     		mov	r6, r5
 3844 0148 2846     		mov	r0, r5
 3845 014a FFF7FEFF 		bl	bsp_IoInit
 3846              	.LVL492:
 3847              	.LBE1817:
 3848              	.LBE1816:
 3849              	.LBB1818:
 3850              	.LBB1819:
  11:drivers/bsp_soft_i2c.c **** 	else
 3851              		.loc 1 11 0
 3852 014e 2846     		mov	r0, r5
 3853 0150 FFF7FEFF 		bl	bsp_IoSet
 3854              	.LVL493:
 3855              	.LBE1819:
 3856              	.LBE1818:
 3857              	.LBB1820:
 3858              	.LBB1821:
   5:drivers/bsp_soft_i2c.c **** }
 3859              		.loc 1 5 0
 3860 0154 0220     		movs	r0, #2
 3861 0156 FFF7FEFF 		bl	delay_us
 3862              	.LVL494:
 3863              	.LBE1821:
 3864              	.LBE1820:
 3865              	.LBB1822:
 3866              	.LBB1823:
  19:drivers/bsp_soft_i2c.c **** 	else
 3867              		.loc 1 19 0
 3868 015a 05F10808 		add	r8, r5, #8
 3869 015e 4046     		mov	r0, r8
 3870 0160 FFF7FEFF 		bl	bsp_IoSet
 3871              	.LVL495:
 3872              	.LBE1823:
 3873              	.LBE1822:
 3874              	.LBB1824:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 81


 3875              	.LBB1825:
   5:drivers/bsp_soft_i2c.c **** }
 3876              		.loc 1 5 0
 3877 0164 0220     		movs	r0, #2
 3878 0166 FFF7FEFF 		bl	delay_us
 3879              	.LVL496:
 3880              	.L130:
 3881              	.LBE1825:
 3882              	.LBE1824:
 3883              	.LBB1826:
 3884              	.LBB1827:
  26:drivers/bsp_soft_i2c.c **** }
 3885              		.loc 1 26 0
 3886 016a 3046     		mov	r0, r6
 3887 016c FFF7FEFF 		bl	bsp_IoRead
 3888              	.LVL497:
 3889              	.LBE1827:
 3890              	.LBE1826:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 3891              		.loc 1 78 0
 3892 0170 E8B1     		cbz	r0, .L147
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 3893              		.loc 1 79 0
 3894 0172 0134     		adds	r4, r4, #1
 3895              	.LVL498:
 3896 0174 E4B2     		uxtb	r4, r4
 3897              	.LVL499:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 3898              		.loc 1 80 0
 3899 0176 FA2C     		cmp	r4, #250
 3900 0178 F7D9     		bls	.L130
 3901              	.LVL500:
 3902              	.LBB1828:
 3903              	.LBB1829:
 3904              	.LBB1830:
  32:drivers/bsp_soft_i2c.c **** 	else
 3905              		.loc 1 32 0
 3906 017a 0823     		movs	r3, #8
 3907 017c 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3908              		.loc 1 35 0
 3909 017e 2846     		mov	r0, r5
 3910 0180 FFF7FEFF 		bl	bsp_IoInit
 3911              	.LVL501:
 3912              	.LBE1830:
 3913              	.LBE1829:
 3914              	.LBB1831:
 3915              	.LBB1832:
  21:drivers/bsp_soft_i2c.c **** }
 3916              		.loc 1 21 0
 3917 0184 05F10804 		add	r4, r5, #8
 3918              	.LVL502:
 3919 0188 2046     		mov	r0, r4
 3920 018a FFF7FEFF 		bl	bsp_IoClr
 3921              	.LVL503:
 3922              	.LBE1832:
 3923              	.LBE1831:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 82


 3924              	.LBB1833:
 3925              	.LBB1834:
  13:drivers/bsp_soft_i2c.c **** }
 3926              		.loc 1 13 0
 3927 018e 2846     		mov	r0, r5
 3928 0190 FFF7FEFF 		bl	bsp_IoClr
 3929              	.LVL504:
 3930              	.LBE1834:
 3931              	.LBE1833:
 3932              	.LBB1835:
 3933              	.LBB1836:
   5:drivers/bsp_soft_i2c.c **** }
 3934              		.loc 1 5 0
 3935 0194 0220     		movs	r0, #2
 3936 0196 FFF7FEFF 		bl	delay_us
 3937              	.LVL505:
 3938              	.LBE1836:
 3939              	.LBE1835:
 3940              	.LBB1837:
 3941              	.LBB1838:
  11:drivers/bsp_soft_i2c.c **** 	else
 3942              		.loc 1 11 0
 3943 019a 2846     		mov	r0, r5
 3944 019c FFF7FEFF 		bl	bsp_IoSet
 3945              	.LVL506:
 3946              	.LBE1838:
 3947              	.LBE1837:
 3948              	.LBB1839:
 3949              	.LBB1840:
  19:drivers/bsp_soft_i2c.c **** 	else
 3950              		.loc 1 19 0
 3951 01a0 2046     		mov	r0, r4
 3952 01a2 FFF7FEFF 		bl	bsp_IoSet
 3953              	.LVL507:
 3954              	.LBE1840:
 3955              	.LBE1839:
 3956              	.LBB1841:
 3957              	.LBB1842:
   5:drivers/bsp_soft_i2c.c **** }
 3958              		.loc 1 5 0
 3959 01a6 0220     		movs	r0, #2
 3960 01a8 FFF7FEFF 		bl	delay_us
 3961              	.LVL508:
 3962 01ac 02E0     		b	.L131
 3963              	.LVL509:
 3964              	.L147:
 3965              	.LBE1842:
 3966              	.LBE1841:
 3967              	.LBE1828:
 3968              	.LBB1843:
 3969              	.LBB1844:
  21:drivers/bsp_soft_i2c.c **** }
 3970              		.loc 1 21 0
 3971 01ae 4046     		mov	r0, r8
 3972 01b0 FFF7FEFF 		bl	bsp_IoClr
 3973              	.LVL510:
 3974              	.L131:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 83


 3975              	.LBE1844:
 3976              	.LBE1843:
 3977              	.LBE1815:
 3978              	.LBE1814:
 3979              	.LBB1845:
 3980              	.LBB1846:
 3981              	.LBB1847:
  32:drivers/bsp_soft_i2c.c **** 	else
 3982              		.loc 1 32 0
 3983 01b4 0826     		movs	r6, #8
 3984 01b6 6E71     		strb	r6, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 3985              		.loc 1 35 0
 3986 01b8 2846     		mov	r0, r5
 3987 01ba FFF7FEFF 		bl	bsp_IoInit
 3988              	.LVL511:
 3989              	.LBE1847:
 3990              	.LBE1846:
 3991              	.LBB1848:
 3992              	.LBB1849:
  11:drivers/bsp_soft_i2c.c **** 	else
 3993              		.loc 1 11 0
 3994 01be 2846     		mov	r0, r5
 3995 01c0 FFF7FEFF 		bl	bsp_IoSet
 3996              	.LVL512:
 3997              	.LBE1849:
 3998              	.LBE1848:
 3999              	.LBB1850:
 4000              	.LBB1851:
  19:drivers/bsp_soft_i2c.c **** 	else
 4001              		.loc 1 19 0
 4002 01c4 AC19     		adds	r4, r5, r6
 4003 01c6 2046     		mov	r0, r4
 4004 01c8 FFF7FEFF 		bl	bsp_IoSet
 4005              	.LVL513:
 4006              	.LBE1851:
 4007              	.LBE1850:
 4008              	.LBB1852:
 4009              	.LBB1853:
   5:drivers/bsp_soft_i2c.c **** }
 4010              		.loc 1 5 0
 4011 01cc 0220     		movs	r0, #2
 4012 01ce FFF7FEFF 		bl	delay_us
 4013              	.LVL514:
 4014              	.LBE1853:
 4015              	.LBE1852:
 4016              	.LBB1854:
 4017              	.LBB1855:
  13:drivers/bsp_soft_i2c.c **** }
 4018              		.loc 1 13 0
 4019 01d2 2846     		mov	r0, r5
 4020 01d4 FFF7FEFF 		bl	bsp_IoClr
 4021              	.LVL515:
 4022              	.LBE1855:
 4023              	.LBE1854:
 4024              	.LBB1856:
 4025              	.LBB1857:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 84


   5:drivers/bsp_soft_i2c.c **** }
 4026              		.loc 1 5 0
 4027 01d8 0220     		movs	r0, #2
 4028 01da FFF7FEFF 		bl	delay_us
 4029              	.LVL516:
 4030              	.LBE1857:
 4031              	.LBE1856:
 4032              	.LBB1858:
 4033              	.LBB1859:
  21:drivers/bsp_soft_i2c.c **** }
 4034              		.loc 1 21 0
 4035 01de 2046     		mov	r0, r4
 4036 01e0 FFF7FEFF 		bl	bsp_IoClr
 4037              	.LVL517:
 4038              	.LBE1859:
 4039              	.LBE1858:
 4040              	.LBE1845:
 222:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CWaitAck(i2c);
 223:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CSendByte(i2c, reg);    //写寄存器地址
 224:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CWaitAck(i2c);        //等待应答
 225:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CStart(i2c);
 226:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CSendByte(i2c, (addr << 1) | 1);//发送器件地址+读命令
 4041              		.loc 1 226 0
 4042 01e4 7F00     		lsls	r7, r7, #1
 4043 01e6 47F00107 		orr	r7, r7, #1
 4044 01ea FFB2     		uxtb	r7, r7
 4045              	.LVL518:
 4046              	.LBB1860:
 4047              	.LBB1861:
 4048              	.LBB1862:
 4049              	.LBB1863:
  32:drivers/bsp_soft_i2c.c **** 	else
 4050              		.loc 1 32 0
 4051 01ec 6E71     		strb	r6, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 4052              		.loc 1 35 0
 4053 01ee A846     		mov	r8, r5
 4054 01f0 2846     		mov	r0, r5
 4055 01f2 FFF7FEFF 		bl	bsp_IoInit
 4056              	.LVL519:
 4057              	.LBE1863:
 4058              	.LBE1862:
 4059              	.LBB1864:
 4060              	.LBB1865:
  21:drivers/bsp_soft_i2c.c **** }
 4061              		.loc 1 21 0
 4062 01f6 2646     		mov	r6, r4
 4063 01f8 2046     		mov	r0, r4
 4064 01fa FFF7FEFF 		bl	bsp_IoClr
 4065              	.LVL520:
 4066              	.LBE1865:
 4067              	.LBE1864:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 4068              		.loc 1 116 0
 4069 01fe 8024     		movs	r4, #128
 4070 0200 0FE0     		b	.L133
 4071              	.LVL521:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 85


 4072              	.L134:
 4073              	.LBB1866:
 4074              	.LBB1867:
  13:drivers/bsp_soft_i2c.c **** }
 4075              		.loc 1 13 0
 4076 0202 4046     		mov	r0, r8
 4077 0204 FFF7FEFF 		bl	bsp_IoClr
 4078              	.LVL522:
 4079              	.L135:
 4080              	.LBE1867:
 4081              	.LBE1866:
 4082              	.LBB1868:
 4083              	.LBB1869:
  19:drivers/bsp_soft_i2c.c **** 	else
 4084              		.loc 1 19 0
 4085 0208 3046     		mov	r0, r6
 4086 020a FFF7FEFF 		bl	bsp_IoSet
 4087              	.LVL523:
 4088              	.LBE1869:
 4089              	.LBE1868:
 4090              	.LBB1870:
 4091              	.LBB1871:
   5:drivers/bsp_soft_i2c.c **** }
 4092              		.loc 1 5 0
 4093 020e 0220     		movs	r0, #2
 4094 0210 FFF7FEFF 		bl	delay_us
 4095              	.LVL524:
 4096              	.LBE1871:
 4097              	.LBE1870:
 4098              	.LBB1872:
 4099              	.LBB1873:
  21:drivers/bsp_soft_i2c.c **** }
 4100              		.loc 1 21 0
 4101 0214 3046     		mov	r0, r6
 4102 0216 FFF7FEFF 		bl	bsp_IoClr
 4103              	.LVL525:
 4104              	.LBE1873:
 4105              	.LBE1872:
 4106              	.LBB1874:
 4107              	.LBB1875:
   5:drivers/bsp_soft_i2c.c **** }
 4108              		.loc 1 5 0
 4109 021a 0220     		movs	r0, #2
 4110 021c FFF7FEFF 		bl	delay_us
 4111              	.LVL526:
 4112              	.LBE1875:
 4113              	.LBE1874:
 116:drivers/bsp_soft_i2c.c **** 		if (dat & t)
 4114              		.loc 1 116 0
 4115 0220 6408     		lsrs	r4, r4, #1
 4116              	.LVL527:
 4117              	.L133:
 4118 0222 2CB1     		cbz	r4, .L148
 117:drivers/bsp_soft_i2c.c **** 			SDA_Switch(i2c, 1);
 4119              		.loc 1 117 0
 4120 0224 2742     		tst	r7, r4
 4121 0226 ECD0     		beq	.L134
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 86


 4122              	.LVL528:
 4123              	.LBB1876:
 4124              	.LBB1877:
  11:drivers/bsp_soft_i2c.c **** 	else
 4125              		.loc 1 11 0
 4126 0228 4046     		mov	r0, r8
 4127 022a FFF7FEFF 		bl	bsp_IoSet
 4128              	.LVL529:
 4129 022e EBE7     		b	.L135
 4130              	.LVL530:
 4131              	.L148:
 4132              	.LBE1877:
 4133              	.LBE1876:
 4134              	.LBE1861:
 4135              	.LBE1860:
 4136              	.LBB1878:
 4137              	.LBB1879:
 4138              	.LBB1880:
 4139              	.LBB1881:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 4140              		.loc 1 34 0
 4141 0230 0323     		movs	r3, #3
 4142 0232 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 4143              		.loc 1 35 0
 4144 0234 2E46     		mov	r6, r5
 4145 0236 2846     		mov	r0, r5
 4146 0238 FFF7FEFF 		bl	bsp_IoInit
 4147              	.LVL531:
 4148              	.LBE1881:
 4149              	.LBE1880:
 4150              	.LBB1882:
 4151              	.LBB1883:
  11:drivers/bsp_soft_i2c.c **** 	else
 4152              		.loc 1 11 0
 4153 023c 2846     		mov	r0, r5
 4154 023e FFF7FEFF 		bl	bsp_IoSet
 4155              	.LVL532:
 4156              	.LBE1883:
 4157              	.LBE1882:
 4158              	.LBB1884:
 4159              	.LBB1885:
   5:drivers/bsp_soft_i2c.c **** }
 4160              		.loc 1 5 0
 4161 0242 0220     		movs	r0, #2
 4162 0244 FFF7FEFF 		bl	delay_us
 4163              	.LVL533:
 4164              	.LBE1885:
 4165              	.LBE1884:
 4166              	.LBB1886:
 4167              	.LBB1887:
  19:drivers/bsp_soft_i2c.c **** 	else
 4168              		.loc 1 19 0
 4169 0248 05F10807 		add	r7, r5, #8
 4170 024c 3846     		mov	r0, r7
 4171 024e FFF7FEFF 		bl	bsp_IoSet
 4172              	.LVL534:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 87


 4173              	.LBE1887:
 4174              	.LBE1886:
 4175              	.LBB1888:
 4176              	.LBB1889:
   5:drivers/bsp_soft_i2c.c **** }
 4177              		.loc 1 5 0
 4178 0252 0220     		movs	r0, #2
 4179 0254 FFF7FEFF 		bl	delay_us
 4180              	.LVL535:
 4181              	.L137:
 4182              	.LBE1889:
 4183              	.LBE1888:
 4184              	.LBB1890:
 4185              	.LBB1891:
  26:drivers/bsp_soft_i2c.c **** }
 4186              		.loc 1 26 0
 4187 0258 3046     		mov	r0, r6
 4188 025a FFF7FEFF 		bl	bsp_IoRead
 4189              	.LVL536:
 4190              	.LBE1891:
 4191              	.LBE1890:
  78:drivers/bsp_soft_i2c.c **** 		ucErrTime++;
 4192              		.loc 1 78 0
 4193 025e E8B1     		cbz	r0, .L149
  79:drivers/bsp_soft_i2c.c **** 		if (ucErrTime > 250) {
 4194              		.loc 1 79 0
 4195 0260 0134     		adds	r4, r4, #1
 4196              	.LVL537:
 4197 0262 E4B2     		uxtb	r4, r4
 4198              	.LVL538:
  80:drivers/bsp_soft_i2c.c **** 			bsp_SoftI2CStop(i2c);
 4199              		.loc 1 80 0
 4200 0264 FA2C     		cmp	r4, #250
 4201 0266 F7D9     		bls	.L137
 4202              	.LVL539:
 4203              	.LBB1892:
 4204              	.LBB1893:
 4205              	.LBB1894:
  32:drivers/bsp_soft_i2c.c **** 	else
 4206              		.loc 1 32 0
 4207 0268 0823     		movs	r3, #8
 4208 026a 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 4209              		.loc 1 35 0
 4210 026c 2846     		mov	r0, r5
 4211 026e FFF7FEFF 		bl	bsp_IoInit
 4212              	.LVL540:
 4213              	.LBE1894:
 4214              	.LBE1893:
 4215              	.LBB1895:
 4216              	.LBB1896:
  21:drivers/bsp_soft_i2c.c **** }
 4217              		.loc 1 21 0
 4218 0272 05F10804 		add	r4, r5, #8
 4219              	.LVL541:
 4220 0276 2046     		mov	r0, r4
 4221 0278 FFF7FEFF 		bl	bsp_IoClr
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 88


 4222              	.LVL542:
 4223              	.LBE1896:
 4224              	.LBE1895:
 4225              	.LBB1897:
 4226              	.LBB1898:
  13:drivers/bsp_soft_i2c.c **** }
 4227              		.loc 1 13 0
 4228 027c 2846     		mov	r0, r5
 4229 027e FFF7FEFF 		bl	bsp_IoClr
 4230              	.LVL543:
 4231              	.LBE1898:
 4232              	.LBE1897:
 4233              	.LBB1899:
 4234              	.LBB1900:
   5:drivers/bsp_soft_i2c.c **** }
 4235              		.loc 1 5 0
 4236 0282 0220     		movs	r0, #2
 4237 0284 FFF7FEFF 		bl	delay_us
 4238              	.LVL544:
 4239              	.LBE1900:
 4240              	.LBE1899:
 4241              	.LBB1901:
 4242              	.LBB1902:
  11:drivers/bsp_soft_i2c.c **** 	else
 4243              		.loc 1 11 0
 4244 0288 2846     		mov	r0, r5
 4245 028a FFF7FEFF 		bl	bsp_IoSet
 4246              	.LVL545:
 4247              	.LBE1902:
 4248              	.LBE1901:
 4249              	.LBB1903:
 4250              	.LBB1904:
  19:drivers/bsp_soft_i2c.c **** 	else
 4251              		.loc 1 19 0
 4252 028e 2046     		mov	r0, r4
 4253 0290 FFF7FEFF 		bl	bsp_IoSet
 4254              	.LVL546:
 4255              	.LBE1904:
 4256              	.LBE1903:
 4257              	.LBB1905:
 4258              	.LBB1906:
   5:drivers/bsp_soft_i2c.c **** }
 4259              		.loc 1 5 0
 4260 0294 0220     		movs	r0, #2
 4261 0296 FFF7FEFF 		bl	delay_us
 4262              	.LVL547:
 4263 029a 02E0     		b	.L138
 4264              	.LVL548:
 4265              	.L149:
 4266              	.LBE1906:
 4267              	.LBE1905:
 4268              	.LBE1892:
 4269              	.LBB1907:
 4270              	.LBB1908:
  21:drivers/bsp_soft_i2c.c **** }
 4271              		.loc 1 21 0
 4272 029c 3846     		mov	r0, r7
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 89


 4273 029e FFF7FEFF 		bl	bsp_IoClr
 4274              	.LVL549:
 4275              	.L138:
 4276              	.LBE1908:
 4277              	.LBE1907:
 4278              	.LBE1879:
 4279              	.LBE1878:
 4280              	.LBB1909:
 4281              	.LBB1910:
 4282              	.LBB1911:
 4283              	.LBB1912:
  34:drivers/bsp_soft_i2c.c **** 	bsp_IoInit(&i2c->sda);
 4284              		.loc 1 34 0
 4285 02a2 0323     		movs	r3, #3
 4286 02a4 6B71     		strb	r3, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 4287              		.loc 1 35 0
 4288 02a6 A846     		mov	r8, r5
 4289 02a8 2846     		mov	r0, r5
 4290 02aa FFF7FEFF 		bl	bsp_IoInit
 4291              	.LVL550:
 4292              	.LBE1912:
 4293              	.LBE1911:
 130:drivers/bsp_soft_i2c.c **** 	SwitchDir(i2c, 0);//SDA设置为输入
 4294              		.loc 1 130 0
 4295 02ae 0024     		movs	r4, #0
 132:drivers/bsp_soft_i2c.c **** 		SCL_Switch(i2c, 0);
 4296              		.loc 1 132 0
 4297 02b0 2646     		mov	r6, r4
 4298 02b2 04E0     		b	.L140
 4299              	.LVL551:
 4300              	.L141:
 4301              	.LBB1913:
 4302              	.LBB1914:
   5:drivers/bsp_soft_i2c.c **** }
 4303              		.loc 1 5 0
 4304 02b4 0220     		movs	r0, #2
 4305 02b6 FFF7FEFF 		bl	delay_us
 4306              	.LVL552:
 4307              	.LBE1914:
 4308              	.LBE1913:
 132:drivers/bsp_soft_i2c.c **** 		SCL_Switch(i2c, 0);
 4309              		.loc 1 132 0
 4310 02ba 0136     		adds	r6, r6, #1
 4311              	.LVL553:
 4312 02bc F6B2     		uxtb	r6, r6
 4313              	.LVL554:
 4314              	.L140:
 4315 02be 072E     		cmp	r6, #7
 4316 02c0 14D8     		bhi	.L150
 4317              	.LVL555:
 4318              	.LBB1915:
 4319              	.LBB1916:
  21:drivers/bsp_soft_i2c.c **** }
 4320              		.loc 1 21 0
 4321 02c2 05F10807 		add	r7, r5, #8
 4322 02c6 3846     		mov	r0, r7
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 90


 4323 02c8 FFF7FEFF 		bl	bsp_IoClr
 4324              	.LVL556:
 4325              	.LBE1916:
 4326              	.LBE1915:
 4327              	.LBB1917:
 4328              	.LBB1918:
   5:drivers/bsp_soft_i2c.c **** }
 4329              		.loc 1 5 0
 4330 02cc 0220     		movs	r0, #2
 4331 02ce FFF7FEFF 		bl	delay_us
 4332              	.LVL557:
 4333              	.LBE1918:
 4334              	.LBE1917:
 4335              	.LBB1919:
 4336              	.LBB1920:
  19:drivers/bsp_soft_i2c.c **** 	else
 4337              		.loc 1 19 0
 4338 02d2 3846     		mov	r0, r7
 4339 02d4 FFF7FEFF 		bl	bsp_IoSet
 4340              	.LVL558:
 4341              	.LBE1920:
 4342              	.LBE1919:
 136:drivers/bsp_soft_i2c.c **** 		if (bsp_IoRead(&i2c->sda))receive++;
 4343              		.loc 1 136 0
 4344 02d8 6400     		lsls	r4, r4, #1
 4345              	.LVL559:
 4346 02da E4B2     		uxtb	r4, r4
 4347              	.LVL560:
 137:drivers/bsp_soft_i2c.c **** 		i2c_delay_us(2);
 4348              		.loc 1 137 0
 4349 02dc 4046     		mov	r0, r8
 4350 02de FFF7FEFF 		bl	bsp_IoRead
 4351              	.LVL561:
 4352 02e2 0028     		cmp	r0, #0
 4353 02e4 E6D0     		beq	.L141
 4354 02e6 0134     		adds	r4, r4, #1
 4355              	.LVL562:
 4356 02e8 E4B2     		uxtb	r4, r4
 4357              	.LVL563:
 4358 02ea E3E7     		b	.L141
 4359              	.L150:
 4360              	.LVL564:
 4361              	.LBB1921:
 4362              	.LBB1922:
 4363              	.LBB1923:
  21:drivers/bsp_soft_i2c.c **** }
 4364              		.loc 1 21 0
 4365 02ec 05F10806 		add	r6, r5, #8
 4366              	.LVL565:
 4367 02f0 3046     		mov	r0, r6
 4368 02f2 FFF7FEFF 		bl	bsp_IoClr
 4369              	.LVL566:
 4370              	.LBE1923:
 4371              	.LBE1922:
 4372              	.LBB1924:
 4373              	.LBB1925:
  32:drivers/bsp_soft_i2c.c **** 	else
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 91


 4374              		.loc 1 32 0
 4375 02f6 0827     		movs	r7, #8
 4376 02f8 6F71     		strb	r7, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 4377              		.loc 1 35 0
 4378 02fa 2846     		mov	r0, r5
 4379 02fc FFF7FEFF 		bl	bsp_IoInit
 4380              	.LVL567:
 4381              	.LBE1925:
 4382              	.LBE1924:
 4383              	.LBB1926:
 4384              	.LBB1927:
  13:drivers/bsp_soft_i2c.c **** }
 4385              		.loc 1 13 0
 4386 0300 2846     		mov	r0, r5
 4387 0302 FFF7FEFF 		bl	bsp_IoClr
 4388              	.LVL568:
 4389              	.LBE1927:
 4390              	.LBE1926:
 4391              	.LBB1928:
 4392              	.LBB1929:
   5:drivers/bsp_soft_i2c.c **** }
 4393              		.loc 1 5 0
 4394 0306 0220     		movs	r0, #2
 4395 0308 FFF7FEFF 		bl	delay_us
 4396              	.LVL569:
 4397              	.LBE1929:
 4398              	.LBE1928:
 4399              	.LBB1930:
 4400              	.LBB1931:
  19:drivers/bsp_soft_i2c.c **** 	else
 4401              		.loc 1 19 0
 4402 030c 3046     		mov	r0, r6
 4403 030e FFF7FEFF 		bl	bsp_IoSet
 4404              	.LVL570:
 4405              	.LBE1931:
 4406              	.LBE1930:
 4407              	.LBB1932:
 4408              	.LBB1933:
   5:drivers/bsp_soft_i2c.c **** }
 4409              		.loc 1 5 0
 4410 0312 0220     		movs	r0, #2
 4411 0314 FFF7FEFF 		bl	delay_us
 4412              	.LVL571:
 4413              	.LBE1933:
 4414              	.LBE1932:
 4415              	.LBB1934:
 4416              	.LBB1935:
  21:drivers/bsp_soft_i2c.c **** }
 4417              		.loc 1 21 0
 4418 0318 3046     		mov	r0, r6
 4419 031a FFF7FEFF 		bl	bsp_IoClr
 4420              	.LVL572:
 4421              	.LBE1935:
 4422              	.LBE1934:
 4423              	.LBE1921:
 4424              	.LBE1910:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 92


 4425              	.LBE1909:
 4426              	.LBB1936:
 4427              	.LBB1937:
 4428              	.LBB1938:
  32:drivers/bsp_soft_i2c.c **** 	else
 4429              		.loc 1 32 0
 4430 031e 6F71     		strb	r7, [r5, #5]
  35:drivers/bsp_soft_i2c.c **** }
 4431              		.loc 1 35 0
 4432 0320 2846     		mov	r0, r5
 4433 0322 FFF7FEFF 		bl	bsp_IoInit
 4434              	.LVL573:
 4435              	.LBE1938:
 4436              	.LBE1937:
 4437              	.LBB1939:
 4438              	.LBB1940:
  21:drivers/bsp_soft_i2c.c **** }
 4439              		.loc 1 21 0
 4440 0326 3046     		mov	r0, r6
 4441 0328 FFF7FEFF 		bl	bsp_IoClr
 4442              	.LVL574:
 4443              	.LBE1940:
 4444              	.LBE1939:
 4445              	.LBB1941:
 4446              	.LBB1942:
  13:drivers/bsp_soft_i2c.c **** }
 4447              		.loc 1 13 0
 4448 032c 2846     		mov	r0, r5
 4449 032e FFF7FEFF 		bl	bsp_IoClr
 4450              	.LVL575:
 4451              	.LBE1942:
 4452              	.LBE1941:
 4453              	.LBB1943:
 4454              	.LBB1944:
   5:drivers/bsp_soft_i2c.c **** }
 4455              		.loc 1 5 0
 4456 0332 0220     		movs	r0, #2
 4457 0334 FFF7FEFF 		bl	delay_us
 4458              	.LVL576:
 4459              	.LBE1944:
 4460              	.LBE1943:
 4461              	.LBB1945:
 4462              	.LBB1946:
  11:drivers/bsp_soft_i2c.c **** 	else
 4463              		.loc 1 11 0
 4464 0338 2846     		mov	r0, r5
 4465 033a FFF7FEFF 		bl	bsp_IoSet
 4466              	.LVL577:
 4467              	.LBE1946:
 4468              	.LBE1945:
 4469              	.LBB1947:
 4470              	.LBB1948:
  19:drivers/bsp_soft_i2c.c **** 	else
 4471              		.loc 1 19 0
 4472 033e 3046     		mov	r0, r6
 4473 0340 FFF7FEFF 		bl	bsp_IoSet
 4474              	.LVL578:
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 93


 4475              	.LBE1948:
 4476              	.LBE1947:
 4477              	.LBB1949:
 4478              	.LBB1950:
   5:drivers/bsp_soft_i2c.c **** }
 4479              		.loc 1 5 0
 4480 0344 0220     		movs	r0, #2
 4481 0346 FFF7FEFF 		bl	delay_us
 4482              	.LVL579:
 4483              	.LBE1950:
 4484              	.LBE1949:
 4485              	.LBE1936:
 227:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CWaitAck(i2c);    //等待应答
 228:drivers/bsp_soft_i2c.c **** 	res = bsp_SoftI2CReadByte(i2c, 0);//读取数据,发送nACK
 229:drivers/bsp_soft_i2c.c **** 	bsp_SoftI2CStop(i2c);            //产生一个停止条件
 230:drivers/bsp_soft_i2c.c **** 	return res;
 231:drivers/bsp_soft_i2c.c **** }
 4486              		.loc 1 231 0
 4487 034a 2046     		mov	r0, r4
 4488 034c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4489              		.cfi_endproc
 4490              	.LFE82:
 4492              		.text
 4493              	.Letext0:
 4494              		.file 2 "/Users/zy/Desktop/Tools/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/machine/_
 4495              		.file 3 "/Users/zy/Desktop/Tools/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/_stdi
 4496              		.file 4 "/Users/zy/Desktop/Tools/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/lock.
 4497              		.file 5 "/Users/zy/Desktop/Tools/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/_type
 4498              		.file 6 "/Users/zy/Desktop/Tools/gcc-arm-none-eabi-7-2017-q4-major/lib/gcc/arm-none-eabi/7.2.1/inc
 4499              		.file 7 "/Users/zy/Desktop/Tools/gcc-arm-none-eabi-9-2019-q4-major/arm-none-eabi/include/sys/reent
 4500              		.file 8 "Inc/core_cm3.h"
 4501              		.file 9 "startup/inc/sys.h"
 4502              		.file 10 "tools/inc/malloc.h"
 4503              		.file 11 "tools/inc/tskmanager.h"
 4504              		.file 12 "drivers/inc/bsp_f1xx_io.h"
 4505              		.file 13 "drivers/inc/bsp_soft_i2c.h"
ARM GAS  /var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s 			page 94


DEFINED SYMBOLS
                            *ABS*:0000000000000000 bsp_soft_i2c.c
/var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s:16     .text.bsp_SoftI2CInit:0000000000000000 $t
/var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s:23     .text.bsp_SoftI2CInit:0000000000000000 bsp_SoftI2CInit
/var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s:69     .text.bsp_SoftI2CWrite:0000000000000000 $t
/var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s:76     .text.bsp_SoftI2CWrite:0000000000000000 bsp_SoftI2CWrite
/var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s:1050   .text.bsp_SoftI2CRead:0000000000000000 $t
/var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s:1057   .text.bsp_SoftI2CRead:0000000000000000 bsp_SoftI2CRead
/var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s:2395   .text.bsp_SoftI2CWriteReg:0000000000000000 $t
/var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s:2402   .text.bsp_SoftI2CWriteReg:0000000000000000 bsp_SoftI2CWriteReg
/var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s:3416   .text.bsp_SoftI2CReadReg:0000000000000000 $t
/var/folders/vc/p32jbmgs3k17njj5gy_2_k3w0000gn/T//ccsMATEJ.s:3423   .text.bsp_SoftI2CReadReg:0000000000000000 bsp_SoftI2CReadReg

UNDEFINED SYMBOLS
bsp_IoInit
bsp_IoSet
delay_us
bsp_IoClr
bsp_IoRead
